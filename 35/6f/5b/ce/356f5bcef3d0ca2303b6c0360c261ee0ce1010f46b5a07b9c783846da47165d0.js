!function(e){e.fn.qrcode=function(t){var r;function o(e){this.mode=r,this.data=e}function n(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(e,t){if(null==e.length)throw Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=Array(e.length-r+t);for(var o=0;o<e.length-r;o++)this.num[o]=e[o+r]}function s(e,t){this.totalCount=e,this.dataCount=t}function a(){this.buffer=[],this.length=0}o.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},n.prototype={addData:function(e){this.dataList.push(new o(e)),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){var e=1;for(e=1;40>e;e++){for(var t=s.getRSBlocks(e,this.errorCorrectLevel),r=new a,o=0,n=0;n<t.length;n++)o+=t[n].dataCount;for(n=0;n<this.dataList.length;n++)t=this.dataList[n],r.put(t.mode,4),r.put(t.getLength(),c.getLengthInBits(t.mode,e)),t.write(r);if(r.getLengthInBits()<=8*o)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;7>=r;r++)if(!(-1>=e+r||this.moduleCount<=e+r))for(var o=-1;7>=o;o++)-1>=t+o||this.moduleCount<=t+o||(this.modules[e+r][t+o]=0<=r&&6>=r&&(0==o||6==o)||0<=o&&6>=o&&(0==r||6==r)||2<=r&&4>=r&&2<=o&&4>=o)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;8>r;r++){this.makeImpl(!0,r);var o=c.getLostPoint(this);(0==r||e>o)&&(e=o,t=r)}return t},createMovieClip:function(e,t,r){for(e=e.createEmptyMovieClip(t,r),this.make(),t=0;t<this.modules.length;t++){r=1*t;for(var o=0;o<this.modules[t].length;o++){var n=1*o;this.modules[t][o]&&(e.beginFill(0,100),e.moveTo(n,r),e.lineTo(n+1,r),e.lineTo(n+1,r+1),e.lineTo(n,r+1),e.endFill())}}return e},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2);for(e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var e=c.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var o=e[t],n=e[r];if(null==this.modules[o][n])for(var i=-2;2>=i;i++)for(var s=-2;2>=s;s++)this.modules[o+i][n+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},setupTypeNumber:function(e){for(var t=c.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var o=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;18>r;r++)o=!e&&1==(t>>r&1),this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o},setupTypeInfo:function(e,t){for(var r=c.getBCHTypeInfo(this.errorCorrectLevel<<3|t),o=0;15>o;o++){var n=!e&&1==(r>>o&1);6>o?this.modules[o][8]=n:8>o?this.modules[o+1][8]=n:this.modules[this.moduleCount-15+o][8]=n}for(o=0;15>o;o++)n=!e&&1==(r>>o&1),8>o?this.modules[8][this.moduleCount-o-1]=n:9>o?this.modules[8][15-o-1+1]=n:this.modules[8][15-o-1]=n;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,o=this.moduleCount-1,n=7,i=0,s=this.moduleCount-1;0<s;s-=2)for(6==s&&s--;;){for(var a=0;2>a;a++)if(null==this.modules[o][s-a]){var l=!1;i<e.length&&(l=1==(e[i]>>>n&1)),c.getMask(t,o,s-a)&&(l=!l),this.modules[o][s-a]=l,-1==--n&&(i++,n=7)}if(0>(o+=r)||this.moduleCount<=o){o-=r,r=-r;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(e,t,r){t=s.getRSBlocks(e,t);for(var o=new a,i=0;i<r.length;i++){var l=r[i];o.put(l.mode,4),o.put(l.getLength(),c.getLengthInBits(l.mode,e)),l.write(o)}for(i=e=0;i<t.length;i++)e+=t[i].dataCount;if(o.getLengthInBits()>8*e)throw Error("code length overflow. ("+o.getLengthInBits()+">"+8*e+")");for(o.getLengthInBits()+4<=8*e&&o.put(0,4);0!=o.getLengthInBits()%8;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*e)&&(o.put(n.PAD0,8),!(o.getLengthInBits()>=8*e));)o.put(n.PAD1,8);return n.createBytes(o,t)},n.createBytes=function(e,t){for(var r=0,o=0,n=0,s=Array(t.length),a=Array(t.length),l=0;l<t.length;l++){var d=t[l].dataCount,u=t[l].totalCount-d;o=Math.max(o,d),n=Math.max(n,u);s[l]=Array(d);for(var h=0;h<s[l].length;h++)s[l][h]=255&e.buffer[h+r];for(r+=d,h=c.getErrorCorrectPolynomial(u),d=new i(s[l],h.getLength()-1).mod(h),a[l]=Array(h.getLength()-1),h=0;h<a[l].length;h++)u=h+d.getLength()-a[l].length,a[l][h]=0<=u?d.get(u):0}for(h=l=0;h<t.length;h++)l+=t[h].totalCount;for(r=Array(l),h=d=0;h<o;h++)for(l=0;l<t.length;l++)h<s[l].length&&(r[d++]=s[l][h]);for(h=0;h<n;h++)for(l=0;l<t.length;l++)h<a[l].length&&(r[d++]=a[l][h]);return r},r=4;for(var c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=c.getBCHDigit(t)-c.getBCHDigit(c.G15);)t^=c.G15<<c.getBCHDigit(t)-c.getBCHDigit(c.G15);return(e<<10|t)^c.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=c.getBCHDigit(t)-c.getBCHDigit(c.G18);)t^=c.G18<<c.getBCHDigit(t)-c.getBCHDigit(c.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return c.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case 0:return 0==(t+r)%2;case 1:return 0==t%2;case 2:return 0==r%3;case 3:return 0==(t+r)%3;case 4:return 0==(Math.floor(t/2)+Math.floor(r/3))%2;case 5:return 0==t*r%2+t*r%3;case 6:return 0==(t*r%2+t*r%3)%2;case 7:return 0==(t*r%3+(t+r)%2)%2;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new i([1],0),r=0;r<e;r++)t=t.multiply(new i([1,l.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&10>t)switch(e){case 1:return 10;case 2:return 9;case r:case 8:return 8;default:throw Error("mode:"+e)}else if(27>t)switch(e){case 1:return 12;case 2:return 11;case r:return 16;case 8:return 10;default:throw Error("mode:"+e)}else{if(!(41>t))throw Error("type:"+t);switch(e){case 1:return 14;case 2:return 13;case r:return 16;case 8:return 12;default:throw Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,o=0;o<t;o++)for(var n=0;n<t;n++){for(var i=0,s=e.isDark(o,n),a=-1;1>=a;a++)if(!(0>o+a||t<=o+a))for(var c=-1;1>=c;c++)0>n+c||t<=n+c||0==a&&0==c||s==e.isDark(o+a,n+c)&&i++;5<i&&(r+=3+i-5)}for(o=0;o<t-1;o++)for(n=0;n<t-1;n++)i=0,e.isDark(o,n)&&i++,e.isDark(o+1,n)&&i++,e.isDark(o,n+1)&&i++,e.isDark(o+1,n+1)&&i++,(0==i||4==i)&&(r+=3);for(o=0;o<t;o++)for(n=0;n<t-6;n++)e.isDark(o,n)&&!e.isDark(o,n+1)&&e.isDark(o,n+2)&&e.isDark(o,n+3)&&e.isDark(o,n+4)&&!e.isDark(o,n+5)&&e.isDark(o,n+6)&&(r+=40);for(n=0;n<t;n++)for(o=0;o<t-6;o++)e.isDark(o,n)&&!e.isDark(o+1,n)&&e.isDark(o+2,n)&&e.isDark(o+3,n)&&e.isDark(o+4,n)&&!e.isDark(o+5,n)&&e.isDark(o+6,n)&&(r+=40);for(n=i=0;n<t;n++)for(o=0;o<t;o++)e.isDark(o,n)&&i++;return r+10*(e=Math.abs(100*i/t/t-50)/5)}},l={glog:function(e){if(1>e)throw Error("glog("+e+")");return l.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;256<=e;)e-=255;return l.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},d=0;8>d;d++)l.EXP_TABLE[d]=1<<d;for(d=8;256>d;d++)l.EXP_TABLE[d]=l.EXP_TABLE[d-4]^l.EXP_TABLE[d-5]^l.EXP_TABLE[d-6]^l.EXP_TABLE[d-8];for(d=0;255>d;d++)l.LOG_TABLE[l.EXP_TABLE[d]]=d;return i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<e.getLength();o++)t[r+o]^=l.gexp(l.glog(this.get(r))+l.glog(e.get(o)));return new i(t,0)},mod:function(e){if(0>this.getLength()-e.getLength())return this;for(var t=l.glog(this.get(0))-l.glog(e.get(0)),r=Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<e.getLength();o++)r[o]^=l.gexp(l.glog(e.get(o))+t);return new i(r,0).mod(e)}},s.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],s.getRSBlocks=function(e,t){var r=s.getRsBlockTable(e,t);if(null==r)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=r.length/3,n=[],i=0;i<o;i++)for(var a=r[3*i+0],c=r[3*i+1],l=r[3*i+2],d=0;d<a;d++)n.push(new s(c,l));return n},s.getRsBlockTable=function(e,t){switch(t){case 1:return s.RS_BLOCK_TABLE[4*(e-1)+0];case 0:return s.RS_BLOCK_TABLE[4*(e-1)+1];case 3:return s.RS_BLOCK_TABLE[4*(e-1)+2];case 2:return s.RS_BLOCK_TABLE[4*(e-1)+3]}},a.prototype={get:function(e){return 1==(this.buffer[Math.floor(e/8)]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},t),this.each((function(){var r;if("canvas"==t.render){(r=new n(t.typeNumber,t.correctLevel)).addData(t.text),r.make();var o=document.createElement("canvas");o.width=t.width,o.height=t.height;for(var i=o.getContext("2d"),s=t.width/r.getModuleCount(),a=t.height/r.getModuleCount(),c=0;c<r.getModuleCount();c++)for(var l=0;l<r.getModuleCount();l++){i.fillStyle=r.isDark(c,l)?t.foreground:t.background;var d=Math.ceil((l+1)*s)-Math.floor(l*s),u=Math.ceil((c+1)*s)-Math.floor(c*s);i.fillRect(Math.round(l*s),Math.round(c*a),d,u)}}else for((r=new n(t.typeNumber,t.correctLevel)).addData(t.text),r.make(),o=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),i=t.width/r.getModuleCount(),s=t.height/r.getModuleCount(),a=0;a<r.getModuleCount();a++)for(c=e("<tr></tr>").css("height",s+"px").appendTo(o),l=0;l<r.getModuleCount();l++)e("<td></td>").css("width",i+"px").css("background-color",r.isDark(a,l)?t.foreground:t.background).appendTo(c);r=o,jQuery(r).appendTo(this)}))}}(jQuery),function(){"use strict";window.analyticCode={getUrl:function(e,t,r){let o=null;"img-url"===e?o=t.src:"file-url"===e&&t.files.length>0&&(o=function(e){let t=null;return null!=window.createObjectURL?t=window.createObjectURL(e):null!=window.URL?t=window.URL.createObjectURL(e):null!=window.webkitURL&&(t=window.webkitURL.createObjectURL(e)),t}(t.files[0])),qrcode.decode(o),qrcode.callback=function(e){r(e,o)}}}}()((function(){function e(e){this.mode=r.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,o=this.data.length;t<o;t++){var n=[],i=this.data.charCodeAt(t);i>65536?(n[0]=240|(1835008&i)>>>18,n[1]=128|(258048&i)>>>12,n[2]=128|(4032&i)>>>6,n[3]=128|63&i):i>2048?(n[0]=224|(61440&i)>>>12,n[1]=128|(4032&i)>>>6,n[2]=128|63&i):i>128?(n[0]=192|(1984&i)>>>6,n[1]=128|63&i):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var r=new e(t);this.dataList.push(r),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(this.modules[e+r][t+o]=0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=h.getLostPoint(this);(0==r||e>o)&&(e=o,t=r)}return t},createMovieClip:function(e,t,r){var o=e.createEmptyMovieClip(t,r);this.make();for(var n=0;n<this.modules.length;n++)for(var i=1*n,s=0;s<this.modules[n].length;s++){var a=1*s;this.modules[n][s]&&(o.beginFill(0,100),o.moveTo(a,i),o.lineTo(a+1,i),o.lineTo(a+1,i+1),o.lineTo(a,i+1),o.endFill())}return o},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=h.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var o=e[t],n=e[r];if(null==this.modules[o][n])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[o+i][n+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},setupTypeNumber:function(e){for(var t=h.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;r<18;r++){o=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,o=h.getBCHTypeInfo(r),n=0;n<15;n++){var i=!e&&1==(o>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!e&&1==(o>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,o=this.moduleCount-1,n=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[o][s-a]){var c=!1;i<e.length&&(c=1==(e[i]>>>n&1)),h.getMask(t,o,s-a)&&(c=!c),this.modules[o][s-a]=c,-1==--n&&(i++,n=7)}if((o+=r)<0||this.moduleCount<=o){o-=r,r=-r;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,r,o){for(var n=C.getRSBlocks(e,r),i=new k,s=0;s<o.length;s++){var a=o[s];i.put(a.mode,4),i.put(a.getLength(),h.getLengthInBits(a.mode,e)),a.write(i)}var c=0;for(s=0;s<n.length;s++)c+=n[s].dataCount;if(i.getLengthInBits()>8*c)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*c+")");for(i.getLengthInBits()+4<=8*c&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*c||(i.put(t.PAD0,8),i.getLengthInBits()>=8*c));)i.put(t.PAD1,8);return t.createBytes(i,n)},t.createBytes=function(e,t){for(var r=0,o=0,n=0,i=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,l=t[a].totalCount-c;o=Math.max(o,c),n=Math.max(n,l),i[a]=new Array(c);for(var d=0;d<i[a].length;d++)i[a][d]=255&e.buffer[d+r];r+=c;var u=h.getErrorCorrectPolynomial(l),f=new w(i[a],u.getLength()-1).mod(u);s[a]=new Array(u.getLength()-1);for(d=0;d<s[a].length;d++){var B=d+f.getLength()-s[a].length;s[a][d]=B>=0?f.get(B):0}}var C=0;for(d=0;d<t.length;d++)C+=t[d].totalCount;var k=new Array(C),m=0;for(d=0;d<o;d++)for(a=0;a<t.length;a++)d<i[a].length&&(k[m++]=i[a][d]);for(d=0;d<n;d++)for(a=0;a<t.length;a++)d<s[a].length&&(k[m++]=s[a][d]);return k};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},n=0,i=1,s=2,a=3,c=4,l=5,d=6,u=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case n:return(t+r)%2==0;case i:return t%2==0;case s:return r%3==0;case a:return(t+r)%3==0;case c:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case l:return t*r%2+t*r%3==0;case d:return(t*r%2+t*r%3)%2==0;case u:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new w([1],0),r=0;r<e;r++)t=t.multiply(new w([1,f.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,o=0;o<t;o++)for(var n=0;n<t;n++){for(var i=0,s=e.isDark(o,n),a=-1;a<=1;a++)if(!(o+a<0||t<=o+a))for(var c=-1;c<=1;c++)n+c<0||t<=n+c||0==a&&0==c||s==e.isDark(o+a,n+c)&&i++;i>5&&(r+=3+i-5)}for(o=0;o<t-1;o++)for(n=0;n<t-1;n++){var l=0;e.isDark(o,n)&&l++,e.isDark(o+1,n)&&l++,e.isDark(o,n+1)&&l++,e.isDark(o+1,n+1)&&l++,0!=l&&4!=l||(r+=3)}for(o=0;o<t;o++)for(n=0;n<t-6;n++)e.isDark(o,n)&&!e.isDark(o,n+1)&&e.isDark(o,n+2)&&e.isDark(o,n+3)&&e.isDark(o,n+4)&&!e.isDark(o,n+5)&&e.isDark(o,n+6)&&(r+=40);for(n=0;n<t;n++)for(o=0;o<t-6;o++)e.isDark(o,n)&&!e.isDark(o+1,n)&&e.isDark(o+2,n)&&e.isDark(o+3,n)&&e.isDark(o+4,n)&&!e.isDark(o+5,n)&&e.isDark(o+6,n)&&(r+=40);var d=0;for(n=0;n<t;n++)for(o=0;o<t;o++)e.isDark(o,n)&&d++;return r+=10*(Math.abs(100*d/t/t-50)/5)}},f={glog:function(e){if(e<1)throw new Error("glog("+e+")");return f.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return f.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},B=0;B<8;B++)f.EXP_TABLE[B]=1<<B;for(B=8;B<256;B++)f.EXP_TABLE[B]=f.EXP_TABLE[B-4]^f.EXP_TABLE[B-5]^f.EXP_TABLE[B-6]^f.EXP_TABLE[B-8];for(B=0;B<255;B++)f.LOG_TABLE[f.EXP_TABLE[B]]=B;function w(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var o=0;o<e.length-r;o++)this.num[o]=e[o+r]}function C(e,t){this.totalCount=e,this.dataCount=t}function k(){this.buffer=[],this.length=0}w.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<e.getLength();o++)t[r+o]^=f.gexp(f.glog(this.get(r))+f.glog(e.get(o)));return new w(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=f.glog(this.get(0))-f.glog(e.get(0)),r=new Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<e.getLength();o++)r[o]^=f.gexp(f.glog(e.get(o))+t);return new w(r,0).mod(e)}},C.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],C.getRSBlocks=function(e,t){var r=C.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=r.length/3,n=[],i=0;i<o;i++)for(var s=r[3*i+0],a=r[3*i+1],c=r[3*i+2],l=0;l<s;l++)n.push(new C(a,c));return n},C.getRsBlockTable=function(e,t){switch(t){case o.L:return C.RS_BLOCK_TABLE[4*(e-1)+0];case o.M:return C.RS_BLOCK_TABLE[4*(e-1)+1];case o.Q:return C.RS_BLOCK_TABLE[4*(e-1)+2];case o.H:return C.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},k.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var m=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],g=function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elCanvas.style.display="none"}function t(e,t){var r=this;if(r._fFail=t,r._fSuccess=e,null===r._bSupportDataURI){var o=document.createElement("img"),n=function(){r._bSupportDataURI=!1,r._fFail&&r._fFail.call(r)};return o.onabort=n,o.onerror=n,o.onload=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)},void(o.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===r._bSupportDataURI&&r._fSuccess?r._fSuccess.call(r):!1===r._bSupportDataURI&&r._fFail&&r._fFail.call(r)}function r(e){return e instanceof Array?e[Math.floor(Math.random()*e.length)]:e}var o=function(e,t){this._bIsPainted=!1,this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.style.display="none",this._elCanvas.width=2*t.width,this._elCanvas.height=2*t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._oContext.scale(2,2),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.id="art-qrcode",this._elImage.classList="img-responsive center-block",this._elImage.style.width=t.width+"px",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(e){var t=this._elImage,o=this._oContext,n=this._htOption,i=e.getModuleCount(),s=n.codeWidth/i,a=n.codeHeight/i,c=n.width,l=n.height,d=n.top,u=n.left,h=n.materials,f=JSON.parse(JSON.stringify(e.modules));function B(e,t,r,o){if(!(e+r<=i&&t+o<=i))return!1;for(var n=0;n<r;n++)for(var s=0;s<o;s++)if(!f[e+n][t+s])return!1;return!0}function w(e,t,r,o){for(var n=0;n<r;n++)for(var i=0;i<o;i++)f[e+n][t+i]=!1}t.style.display="none",this.clear(),o.fillStyle=n.colorLight,h.border?o.drawImage(h.border,0,0,c,l):o.fillRect(0,0,c,l);for(var C=0;C<i;C++)for(var k=0;k<i;k++){var m=k*s+u,g=C*a+d;f[C][k]&&(h.eye&&(0==C&&0==k||C+7==i&&0==k||0==C&&k+7==i)?(o.drawImage(r(h.eye),m,g,7*s,7*a),w(C,k,7,7)):h.row2col3&&B(C,k,2,3)?(o.drawImage(r(h.row2col3),m,g,3*s,2*a),w(C,k,2,3)):h.row3col2&&B(C,k,3,2)?(o.drawImage(r(h.row3col2),m,g,2*s,3*a),w(C,k,3,2)):h.row4&&B(C,k,4,1)?(o.drawImage(r(h.row4),m,g,1*s,4*a),w(C,k,4,1)):h.col4&&B(C,k,1,4)?(o.drawImage(r(h.col4),m,g,4*s,a),w(C,k,1,4)):h.row2col2&&B(C,k,2,2)?(o.drawImage(r(h.row2col2),m,g,2*s,2*a),w(C,k,2,2)):h.row3&&B(C,k,3,1)?(o.drawImage(r(h.row3),m,g,s,3*a),w(C,k,3,1)):h.col3&&B(C,k,1,3)?(o.drawImage(r(h.col3),m,g,3*s,a),w(C,k,1,3)):h.corner&&B(C,k,2,1)&&B(C,k,1,2)?(o.drawImage(r(h.corner),m,g,2*s,2*a),w(C,k,2,2)):h.row2&&B(C,k,2,1)?(o.drawImage(r(h.row2),m,g,s,2*a),w(C,k,2,1)):h.col2&&B(C,k,1,2)?(o.drawImage(r(h.col2),m,g,2*s,a),w(C,k,1,2)):h.single&&f[C][k]?(o.drawImage(r(h.single),m,g,s,a),f[C][k]=!1):(o.fillStyle=n.colorDark,o.fillRect(m,g,s,a),f[C][k]=!1))}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&t.call(this,e)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},o.prototype.getImgSrc=function(){return this._elCanvas.toDataURL("image/png")},o}();function v(e,t){for(var r=1,n=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),i=0,s=m.length;i<=s;i++){var a=0;switch(t){case o.L:a=m[i][0];break;case o.M:a=m[i][1];break;case o.Q:a=m[i][2];break;case o.H:a=m[i][3]}if(n<=a)break;r++}if(r>m.length)throw new Error("Too long data");return r}QRCodeA=function(e,t,r){if(this._htOption={width:256,height:256,bgWidth:256,bgHeight:256,codeWidth:256,codeHeight:256,top:0,left:0,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:o.L,materials:{eye:"",row2col3:"",row3col2:"",row4:"",col4:"",row3:"",col3:"",row2col2:"",corner:"",col2:"",row2:"",single:""}},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];t.codeWidth||(this._htOption.codeWidth=this._htOption.width),t.codeHeight||(this._htOption.codeHeight=this._htOption.height),"string"==typeof e&&(e=document.getElementById(e)),"function"==typeof r&&(this._callback=r),this._el=e,this._oQRCode=null,this._oDrawing=new g(this._el,this._htOption),this._htOption.text&&this.loadMaterial(this._htOption.text)},QRCodeA.prototype.makeCode=function(e){this._oQRCode=new t(v(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage(),this._callback&&this._callback.call(null,"success")},QRCodeA.prototype.loadMaterial=function(e){var t=this,r=0,o=Object.getOwnPropertyNames(this._htOption.materials),n=o.length;function i(){++r===n&&(t._callback&&t._callback.call(null,"loaded"),setTimeout((function(){t.makeCode(e)}),500))}for(var s=0;s<n;s++){var a=o[s],c=this._htOption.materials[a];if(c){if("string"==typeof c)this._htOption.materials[a]=new Image,this._htOption.materials[a].src=c,this._htOption.materials[a].onload=i.bind(this);else if(c instanceof Array)for(var l=0;l<c.length;l++){l&&n++;var d=this._htOption.materials[a][l];this._htOption.materials[a][l]=new Image,this._htOption.materials[a][l].src=d,this._htOption.materials[a][l].onload=i.bind(this)}}else i()}},QRCodeA.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&this._oDrawing.makeImage()},QRCodeA.prototype.clear=function(){this._oDrawing.clear()},QRCodeA.prototype.getImgUrl=function(){return this._oDrawing.getImgSrc()},QRCodeA.CorrectLevel=o}))();var _aa={};function ECB(e,t){this.count=e,this.dataCodewords=t,this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("DataCodewords",(function(){return this.dataCodewords}))}function ECBlocks(e,t,r){this.ecCodewordsPerBlock=e,this.ecBlocks=r?new Array(t,r):new Array(t),this.__defineGetter__("ECCodewordsPerBlock",(function(){return this.ecCodewordsPerBlock})),this.__defineGetter__("TotalECCodewords",(function(){return this.ecCodewordsPerBlock*this.NumBlocks})),this.__defineGetter__("NumBlocks",(function(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e})),this.getECBlocks=function(){return this.ecBlocks}}function Version(e,t,r,o,n,i){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=new Array(r,o,n,i);for(var s=0,a=r.ECCodewordsPerBlock,c=r.getECBlocks(),l=0;l<c.length;l++){var d=c[l];s+=d.Count*(d.DataCodewords+a)}this.totalCodewords=s,this.__defineGetter__("VersionNumber",(function(){return this.versionNumber})),this.__defineGetter__("AlignmentPatternCenters",(function(){return this.alignmentPatternCenters})),this.__defineGetter__("TotalCodewords",(function(){return this.totalCodewords})),this.__defineGetter__("DimensionForVersion",(function(){return 17+4*this.versionNumber})),this.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new BitMatrix(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,o=0;o<r;o++)for(var n=this.alignmentPatternCenters[o]-2,i=0;i<r;i++)0==o&&(0==i||i==r-1)||o==r-1&&0==i||t.setRegion(this.alignmentPatternCenters[i]-2,n,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},this.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]}}function buildVersions(){return new Array(new Version(1,new Array,new ECBlocks(7,new ECB(1,19)),new ECBlocks(10,new ECB(1,16)),new ECBlocks(13,new ECB(1,13)),new ECBlocks(17,new ECB(1,9))),new Version(2,new Array(6,18),new ECBlocks(10,new ECB(1,34)),new ECBlocks(16,new ECB(1,28)),new ECBlocks(22,new ECB(1,22)),new ECBlocks(28,new ECB(1,16))),new Version(3,new Array(6,22),new ECBlocks(15,new ECB(1,55)),new ECBlocks(26,new ECB(1,44)),new ECBlocks(18,new ECB(2,17)),new ECBlocks(22,new ECB(2,13))),new Version(4,new Array(6,26),new ECBlocks(20,new ECB(1,80)),new ECBlocks(18,new ECB(2,32)),new ECBlocks(26,new ECB(2,24)),new ECBlocks(16,new ECB(4,9))),new Version(5,new Array(6,30),new ECBlocks(26,new ECB(1,108)),new ECBlocks(24,new ECB(2,43)),new ECBlocks(18,new ECB(2,15),new ECB(2,16)),new ECBlocks(22,new ECB(2,11),new ECB(2,12))),new Version(6,new Array(6,34),new ECBlocks(18,new ECB(2,68)),new ECBlocks(16,new ECB(4,27)),new ECBlocks(24,new ECB(4,19)),new ECBlocks(28,new ECB(4,15))),new Version(7,new Array(6,22,38),new ECBlocks(20,new ECB(2,78)),new ECBlocks(18,new ECB(4,31)),new ECBlocks(18,new ECB(2,14),new ECB(4,15)),new ECBlocks(26,new ECB(4,13),new ECB(1,14))),new Version(8,new Array(6,24,42),new ECBlocks(24,new ECB(2,97)),new ECBlocks(22,new ECB(2,38),new ECB(2,39)),new ECBlocks(22,new ECB(4,18),new ECB(2,19)),new ECBlocks(26,new ECB(4,14),new ECB(2,15))),new Version(9,new Array(6,26,46),new ECBlocks(30,new ECB(2,116)),new ECBlocks(22,new ECB(3,36),new ECB(2,37)),new ECBlocks(20,new ECB(4,16),new ECB(4,17)),new ECBlocks(24,new ECB(4,12),new ECB(4,13))),new Version(10,new Array(6,28,50),new ECBlocks(18,new ECB(2,68),new ECB(2,69)),new ECBlocks(26,new ECB(4,43),new ECB(1,44)),new ECBlocks(24,new ECB(6,19),new ECB(2,20)),new ECBlocks(28,new ECB(6,15),new ECB(2,16))),new Version(11,new Array(6,30,54),new ECBlocks(20,new ECB(4,81)),new ECBlocks(30,new ECB(1,50),new ECB(4,51)),new ECBlocks(28,new ECB(4,22),new ECB(4,23)),new ECBlocks(24,new ECB(3,12),new ECB(8,13))),new Version(12,new Array(6,32,58),new ECBlocks(24,new ECB(2,92),new ECB(2,93)),new ECBlocks(22,new ECB(6,36),new ECB(2,37)),new ECBlocks(26,new ECB(4,20),new ECB(6,21)),new ECBlocks(28,new ECB(7,14),new ECB(4,15))),new Version(13,new Array(6,34,62),new ECBlocks(26,new ECB(4,107)),new ECBlocks(22,new ECB(8,37),new ECB(1,38)),new ECBlocks(24,new ECB(8,20),new ECB(4,21)),new ECBlocks(22,new ECB(12,11),new ECB(4,12))),new Version(14,new Array(6,26,46,66),new ECBlocks(30,new ECB(3,115),new ECB(1,116)),new ECBlocks(24,new ECB(4,40),new ECB(5,41)),new ECBlocks(20,new ECB(11,16),new ECB(5,17)),new ECBlocks(24,new ECB(11,12),new ECB(5,13))),new Version(15,new Array(6,26,48,70),new ECBlocks(22,new ECB(5,87),new ECB(1,88)),new ECBlocks(24,new ECB(5,41),new ECB(5,42)),new ECBlocks(30,new ECB(5,24),new ECB(7,25)),new ECBlocks(24,new ECB(11,12),new ECB(7,13))),new Version(16,new Array(6,26,50,74),new ECBlocks(24,new ECB(5,98),new ECB(1,99)),new ECBlocks(28,new ECB(7,45),new ECB(3,46)),new ECBlocks(24,new ECB(15,19),new ECB(2,20)),new ECBlocks(30,new ECB(3,15),new ECB(13,16))),new Version(17,new Array(6,30,54,78),new ECBlocks(28,new ECB(1,107),new ECB(5,108)),new ECBlocks(28,new ECB(10,46),new ECB(1,47)),new ECBlocks(28,new ECB(1,22),new ECB(15,23)),new ECBlocks(28,new ECB(2,14),new ECB(17,15))),new Version(18,new Array(6,30,56,82),new ECBlocks(30,new ECB(5,120),new ECB(1,121)),new ECBlocks(26,new ECB(9,43),new ECB(4,44)),new ECBlocks(28,new ECB(17,22),new ECB(1,23)),new ECBlocks(28,new ECB(2,14),new ECB(19,15))),new Version(19,new Array(6,30,58,86),new ECBlocks(28,new ECB(3,113),new ECB(4,114)),new ECBlocks(26,new ECB(3,44),new ECB(11,45)),new ECBlocks(26,new ECB(17,21),new ECB(4,22)),new ECBlocks(26,new ECB(9,13),new ECB(16,14))),new Version(20,new Array(6,34,62,90),new ECBlocks(28,new ECB(3,107),new ECB(5,108)),new ECBlocks(26,new ECB(3,41),new ECB(13,42)),new ECBlocks(30,new ECB(15,24),new ECB(5,25)),new ECBlocks(28,new ECB(15,15),new ECB(10,16))),new Version(21,new Array(6,28,50,72,94),new ECBlocks(28,new ECB(4,116),new ECB(4,117)),new ECBlocks(26,new ECB(17,42)),new ECBlocks(28,new ECB(17,22),new ECB(6,23)),new ECBlocks(30,new ECB(19,16),new ECB(6,17))),new Version(22,new Array(6,26,50,74,98),new ECBlocks(28,new ECB(2,111),new ECB(7,112)),new ECBlocks(28,new ECB(17,46)),new ECBlocks(30,new ECB(7,24),new ECB(16,25)),new ECBlocks(24,new ECB(34,13))),new Version(23,new Array(6,30,54,74,102),new ECBlocks(30,new ECB(4,121),new ECB(5,122)),new ECBlocks(28,new ECB(4,47),new ECB(14,48)),new ECBlocks(30,new ECB(11,24),new ECB(14,25)),new ECBlocks(30,new ECB(16,15),new ECB(14,16))),new Version(24,new Array(6,28,54,80,106),new ECBlocks(30,new ECB(6,117),new ECB(4,118)),new ECBlocks(28,new ECB(6,45),new ECB(14,46)),new ECBlocks(30,new ECB(11,24),new ECB(16,25)),new ECBlocks(30,new ECB(30,16),new ECB(2,17))),new Version(25,new Array(6,32,58,84,110),new ECBlocks(26,new ECB(8,106),new ECB(4,107)),new ECBlocks(28,new ECB(8,47),new ECB(13,48)),new ECBlocks(30,new ECB(7,24),new ECB(22,25)),new ECBlocks(30,new ECB(22,15),new ECB(13,16))),new Version(26,new Array(6,30,58,86,114),new ECBlocks(28,new ECB(10,114),new ECB(2,115)),new ECBlocks(28,new ECB(19,46),new ECB(4,47)),new ECBlocks(28,new ECB(28,22),new ECB(6,23)),new ECBlocks(30,new ECB(33,16),new ECB(4,17))),new Version(27,new Array(6,34,62,90,118),new ECBlocks(30,new ECB(8,122),new ECB(4,123)),new ECBlocks(28,new ECB(22,45),new ECB(3,46)),new ECBlocks(30,new ECB(8,23),new ECB(26,24)),new ECBlocks(30,new ECB(12,15),new ECB(28,16))),new Version(28,new Array(6,26,50,74,98,122),new ECBlocks(30,new ECB(3,117),new ECB(10,118)),new ECBlocks(28,new ECB(3,45),new ECB(23,46)),new ECBlocks(30,new ECB(4,24),new ECB(31,25)),new ECBlocks(30,new ECB(11,15),new ECB(31,16))),new Version(29,new Array(6,30,54,78,102,126),new ECBlocks(30,new ECB(7,116),new ECB(7,117)),new ECBlocks(28,new ECB(21,45),new ECB(7,46)),new ECBlocks(30,new ECB(1,23),new ECB(37,24)),new ECBlocks(30,new ECB(19,15),new ECB(26,16))),new Version(30,new Array(6,26,52,78,104,130),new ECBlocks(30,new ECB(5,115),new ECB(10,116)),new ECBlocks(28,new ECB(19,47),new ECB(10,48)),new ECBlocks(30,new ECB(15,24),new ECB(25,25)),new ECBlocks(30,new ECB(23,15),new ECB(25,16))),new Version(31,new Array(6,30,56,82,108,134),new ECBlocks(30,new ECB(13,115),new ECB(3,116)),new ECBlocks(28,new ECB(2,46),new ECB(29,47)),new ECBlocks(30,new ECB(42,24),new ECB(1,25)),new ECBlocks(30,new ECB(23,15),new ECB(28,16))),new Version(32,new Array(6,34,60,86,112,138),new ECBlocks(30,new ECB(17,115)),new ECBlocks(28,new ECB(10,46),new ECB(23,47)),new ECBlocks(30,new ECB(10,24),new ECB(35,25)),new ECBlocks(30,new ECB(19,15),new ECB(35,16))),new Version(33,new Array(6,30,58,86,114,142),new ECBlocks(30,new ECB(17,115),new ECB(1,116)),new ECBlocks(28,new ECB(14,46),new ECB(21,47)),new ECBlocks(30,new ECB(29,24),new ECB(19,25)),new ECBlocks(30,new ECB(11,15),new ECB(46,16))),new Version(34,new Array(6,34,62,90,118,146),new ECBlocks(30,new ECB(13,115),new ECB(6,116)),new ECBlocks(28,new ECB(14,46),new ECB(23,47)),new ECBlocks(30,new ECB(44,24),new ECB(7,25)),new ECBlocks(30,new ECB(59,16),new ECB(1,17))),new Version(35,new Array(6,30,54,78,102,126,150),new ECBlocks(30,new ECB(12,121),new ECB(7,122)),new ECBlocks(28,new ECB(12,47),new ECB(26,48)),new ECBlocks(30,new ECB(39,24),new ECB(14,25)),new ECBlocks(30,new ECB(22,15),new ECB(41,16))),new Version(36,new Array(6,24,50,76,102,128,154),new ECBlocks(30,new ECB(6,121),new ECB(14,122)),new ECBlocks(28,new ECB(6,47),new ECB(34,48)),new ECBlocks(30,new ECB(46,24),new ECB(10,25)),new ECBlocks(30,new ECB(2,15),new ECB(64,16))),new Version(37,new Array(6,28,54,80,106,132,158),new ECBlocks(30,new ECB(17,122),new ECB(4,123)),new ECBlocks(28,new ECB(29,46),new ECB(14,47)),new ECBlocks(30,new ECB(49,24),new ECB(10,25)),new ECBlocks(30,new ECB(24,15),new ECB(46,16))),new Version(38,new Array(6,32,58,84,110,136,162),new ECBlocks(30,new ECB(4,122),new ECB(18,123)),new ECBlocks(28,new ECB(13,46),new ECB(32,47)),new ECBlocks(30,new ECB(48,24),new ECB(14,25)),new ECBlocks(30,new ECB(42,15),new ECB(32,16))),new Version(39,new Array(6,26,54,82,110,138,166),new ECBlocks(30,new ECB(20,117),new ECB(4,118)),new ECBlocks(28,new ECB(40,47),new ECB(7,48)),new ECBlocks(30,new ECB(43,24),new ECB(22,25)),new ECBlocks(30,new ECB(10,15),new ECB(67,16))),new Version(40,new Array(6,30,58,86,114,142,170),new ECBlocks(30,new ECB(19,118),new ECB(6,119)),new ECBlocks(28,new ECB(18,47),new ECB(31,48)),new ECBlocks(30,new ECB(34,24),new ECB(34,25)),new ECBlocks(30,new ECB(20,15),new ECB(61,16))))}function PerspectiveTransform(e,t,r,o,n,i,s,a,c){this.a11=e,this.a12=o,this.a13=s,this.a21=t,this.a22=n,this.a23=a,this.a31=r,this.a32=i,this.a33=c,this.transformPoints1=function(e){for(var t=e.length,r=this.a11,o=this.a12,n=this.a13,i=this.a21,s=this.a22,a=this.a23,c=this.a31,l=this.a32,d=this.a33,u=0;u<t;u+=2){var h=e[u],f=e[u+1],B=n*h+a*f+d;e[u]=(r*h+i*f+c)/B,e[u+1]=(o*h+s*f+l)/B}},this.transformPoints2=function(e,t){for(var r=e.length,o=0;o<r;o++){var n=e[o],i=t[o],s=this.a13*n+this.a23*i+this.a33;e[o]=(this.a11*n+this.a21*i+this.a31)/s,t[o]=(this.a12*n+this.a22*i+this.a32)/s}},this.buildAdjoint=function(){return new PerspectiveTransform(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new PerspectiveTransform(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}function DetectorResult(e,t){this.bits=e,this.points=t}function Detector(e){this.image=e,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(e,t,r,o){var n=Math.abs(o-t)>Math.abs(r-e);if(n){var i=e;e=t,t=i,i=r,r=o,o=i}for(var s=Math.abs(r-e),a=Math.abs(o-t),c=-s>>1,l=t<o?1:-1,d=e<r?1:-1,u=0,h=e,f=t;h!=r;h+=d){var B=n?f:h,w=n?h:f;if(1==u?this.image[B+w*qrcode.width]&&u++:this.image[B+w*qrcode.width]||u++,3==u){var C=h-e,k=f-t;return Math.sqrt(C*C+k*k)}if((c+=a)>0){if(f==o)break;f+=l,c-=s}}var m=r-e,g=o-t;return Math.sqrt(m*m+g*g)},this.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,o){var n=this.sizeOfBlackWhiteBlackRun(e,t,r,o),i=1,s=e-(r-e);s<0?(i=e/(e-s),s=0):s>=qrcode.width&&(i=(qrcode.width-1-e)/(s-e),s=qrcode.width-1);var a=Math.floor(t-(o-t)*i);return i=1,a<0?(i=t/(t-a),a=0):a>=qrcode.height&&(i=(qrcode.height-1-t)/(a-t),a=qrcode.height-1),s=Math.floor(e+(s-e)*i),(n+=this.sizeOfBlackWhiteBlackRun(e,t,s,a))-1},this.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(r)?o/7:isNaN(o)?r/7:(r+o)/14},this.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},this.distance=function(e,t){var r=e.X-t.X,o=e.Y-t.Y;return Math.sqrt(r*r+o*o)},this.computeDimension=function(e,t,r,o){var n=7+(Math.round(this.distance(e,t)/o)+Math.round(this.distance(e,r)/o)>>1);switch(3&n){case 0:n++;break;case 2:n--;break;case 3:throw"Error"}return n},this.findAlignmentInRegion=function(e,t,r,o){var n=Math.floor(o*e),i=Math.max(0,t-n),s=Math.min(qrcode.width-1,t+n);if(s-i<3*e)throw"Error";var a=Math.max(0,r-n),c=Math.min(qrcode.height-1,r+n);return new AlignmentPatternFinder(this.image,i,a,s-i,c-a,e,this.resultPointCallback).find()},this.createTransform=function(e,t,r,o,n){var i,s,a,c,l=n-3.5;return null!=o?(i=o.X,s=o.Y,a=c=l-3):(i=t.X-e.X+r.X,s=t.Y-e.Y+r.Y,a=c=l),PerspectiveTransform.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,a,c,3.5,l,e.X,e.Y,t.X,t.Y,i,s,r.X,r.Y)},this.sampleGrid=function(e,t,r){return _aa.sampleGrid3(e,r,t)},this.processFinderPatternInfo=function(e){var t=e.TopLeft,r=e.TopRight,o=e.BottomLeft,n=this.calculateModuleSize(t,r,o);if(n<1)throw"Error";var i=this.computeDimension(t,r,o,n),s=Version.getProvisionalVersionForDimension(i),a=s.DimensionForVersion-7,c=null;if(s.AlignmentPatternCenters.length>0)for(var l=r.X-t.X+o.X,d=r.Y-t.Y+o.Y,u=1-3/a,h=Math.floor(t.X+u*(l-t.X)),f=Math.floor(t.Y+u*(d-t.Y)),B=4;B<=16;B<<=1){c=this.findAlignmentInRegion(n,h,f,B);break}var w=this.createTransform(t,r,o,c,i);return new DetectorResult(this.sampleGrid(this.image,w,i),null==c?new Array(o,t,r):new Array(o,t,r,c))},this.detect=function(){var e=(new FinderPatternFinder).findFinderPattern(this.image);return this.processFinderPatternInfo(e)}}_aa.checkAndNudgePoints=function(e,t){for(var r=qrcode.width,o=qrcode.height,n=!0,i=0;i<t.length&&n;i+=2){var s=Math.floor(t[i]),a=Math.floor(t[i+1]);if(s<-1||s>r||a<-1||a>o)throw"Error.checkAndNudgePoints ";n=!1,-1==s?(t[i]=0,n=!0):s==r&&(t[i]=r-1,n=!0),-1==a?(t[i+1]=0,n=!0):a==o&&(t[i+1]=o-1,n=!0)}n=!0;for(i=t.length-2;i>=0&&n;i-=2){s=Math.floor(t[i]),a=Math.floor(t[i+1]);if(s<-1||s>r||a<-1||a>o)throw"Error.checkAndNudgePoints ";n=!1,-1==s?(t[i]=0,n=!0):s==r&&(t[i]=r-1,n=!0),-1==a?(t[i+1]=0,n=!0):a==o&&(t[i+1]=o-1,n=!0)}},_aa.sampleGrid3=function(e,t,r){for(var o=new BitMatrix(t),n=new Array(t<<1),i=0;i<t;i++){for(var s=n.length,a=i+.5,c=0;c<s;c+=2)n[c]=.5+(c>>1),n[c+1]=a;r.transformPoints1(n),_aa.checkAndNudgePoints(e,n);try{for(c=0;c<s;c+=2){e[Math.floor(n[c])+qrcode.width*Math.floor(n[c+1])]&&o.set_Renamed(c>>1,i)}}catch(e){throw"Error.checkAndNudgePoints"}}return o},_aa.sampleGridx=function(e,t,r,o,n,i,s,a,c,l,d,u,h,f,B,w,C,k){var m=PerspectiveTransform.quadrilateralToQuadrilateral(r,o,n,i,s,a,c,l,d,u,h,f,B,w,C,k);return _aa.sampleGrid3(e,t,m)},Version.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),Version.VERSIONS=buildVersions(),Version.getVersionForNumber=function(e){if(e<1||e>40)throw"ArgumentException";return Version.VERSIONS[e-1]},Version.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw"Error getProvisionalVersionForDimension";try{return Version.getVersionForNumber(e-17>>2)}catch(e){throw"Error getVersionForNumber"}},Version.decodeVersionInformation=function(e){for(var t=4294967295,r=0,o=0;o<Version.VERSION_DECODE_INFO.length;o++){var n=Version.VERSION_DECODE_INFO[o];if(n==e)return this.getVersionForNumber(o+7);var i=FormatInformation.numBitsDiffering(e,n);i<t&&(r=o+7,t=i)}return t<=3?this.getVersionForNumber(r):null},PerspectiveTransform.quadrilateralToQuadrilateral=function(e,t,r,o,n,i,s,a,c,l,d,u,h,f,B,w){var C=this.quadrilateralToSquare(e,t,r,o,n,i,s,a);return this.squareToQuadrilateral(c,l,d,u,h,f,B,w).times(C)},PerspectiveTransform.squareToQuadrilateral=function(e,t,r,o,n,i,s,a){var c=a-i,l=t-o+i-a;if(0==c&&0==l)return new PerspectiveTransform(r-e,n-r,e,o-t,i-o,t,0,0,1);var d=r-n,u=s-n,h=e-r+n-s,f=o-i,B=d*c-u*f,w=(h*c-u*l)/B,C=(d*l-h*f)/B;return new PerspectiveTransform(r-e+w*r,s-e+C*s,e,o-t+w*o,a-t+C*a,t,w,C,1)},PerspectiveTransform.quadrilateralToSquare=function(e,t,r,o,n,i,s,a){return this.squareToQuadrilateral(e,t,r,o,n,i,s,a).buildAdjoint()};var FORMAT_INFO_MASK_QR=21522,FORMAT_INFO_DECODE_LOOKUP=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),BITS_SET_IN_HALF_BYTE=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);function FormatInformation(e){this.errorCorrectionLevel=ErrorCorrectionLevel.forBits(e>>3&3),this.dataMask=7&e,this.__defineGetter__("ErrorCorrectionLevel",(function(){return this.errorCorrectionLevel})),this.__defineGetter__("DataMask",(function(){return this.dataMask})),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask},this.Equals=function(e){var t=e;return this.errorCorrectionLevel==t.errorCorrectionLevel&&this.dataMask==t.dataMask}}function ErrorCorrectionLevel(e,t,r){this.ordinal_Renamed_Field=e,this.bits=t,this.name=r,this.__defineGetter__("Bits",(function(){return this.bits})),this.__defineGetter__("Name",(function(){return this.name})),this.ordinal=function(){return this.ordinal_Renamed_Field}}FormatInformation.numBitsDiffering=function(e,t){return BITS_SET_IN_HALF_BYTE[15&(e^=t)]+BITS_SET_IN_HALF_BYTE[15&URShift(e,4)]+BITS_SET_IN_HALF_BYTE[15&URShift(e,8)]+BITS_SET_IN_HALF_BYTE[15&URShift(e,12)]+BITS_SET_IN_HALF_BYTE[15&URShift(e,16)]+BITS_SET_IN_HALF_BYTE[15&URShift(e,20)]+BITS_SET_IN_HALF_BYTE[15&URShift(e,24)]+BITS_SET_IN_HALF_BYTE[15&URShift(e,28)]},FormatInformation.decodeFormatInformation=function(e){var t=FormatInformation.doDecodeFormatInformation(e);return null!=t?t:FormatInformation.doDecodeFormatInformation(e^FORMAT_INFO_MASK_QR)},FormatInformation.doDecodeFormatInformation=function(e){for(var t=4294967295,r=0,o=0;o<FORMAT_INFO_DECODE_LOOKUP.length;o++){var n=FORMAT_INFO_DECODE_LOOKUP[o],i=n[0];if(i==e)return new FormatInformation(n[1]);var s=this.numBitsDiffering(e,i);s<t&&(r=n[1],t=s)}return t<=3?new FormatInformation(r):null},ErrorCorrectionLevel.forBits=function(e){if(e<0||e>=FOR_BITS.length)throw"ArgumentException";return FOR_BITS[e]};var L=new ErrorCorrectionLevel(0,1,"L"),M=new ErrorCorrectionLevel(1,0,"M"),Q=new ErrorCorrectionLevel(2,3,"Q"),H=new ErrorCorrectionLevel(3,2,"H"),FOR_BITS=new Array(M,L,H,Q);function BitMatrix(e,t){if(t||(t=e),e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var r=e>>5;0!=(31&e)&&r++,this.rowSize=r,this.bits=new Array(r*t);for(var o=0;o<this.bits.length;o++)this.bits[o]=0;this.__defineGetter__("Width",(function(){return this.width})),this.__defineGetter__("Height",(function(){return this.height})),this.__defineGetter__("Dimension",(function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width})),this.get_Renamed=function(e,t){var r=t*this.rowSize+(e>>5);return 0!=(1&URShift(this.bits[r],31&e))},this.set_Renamed=function(e,t){var r=t*this.rowSize+(e>>5);this.bits[r]|=1<<(31&e)},this.flip=function(e,t){var r=t*this.rowSize+(e>>5);this.bits[r]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0},this.setRegion=function(e,t,r,o){if(t<0||e<0)throw"Left and top must be nonnegative";if(o<1||r<1)throw"Height and width must be at least 1";var n=e+r,i=t+o;if(i>this.height||n>this.width)throw"The region must fit inside the matrix";for(var s=t;s<i;s++)for(var a=s*this.rowSize,c=e;c<n;c++)this.bits[a+(c>>5)]|=1<<(31&c)}}function DataBlock(e,t){this.numDataCodewords=e,this.codewords=t,this.__defineGetter__("NumDataCodewords",(function(){return this.numDataCodewords})),this.__defineGetter__("Codewords",(function(){return this.codewords}))}function BitMatrixParser(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(e,t,r){return this.bitMatrix.get_Renamed(e,t)?r<<1|1:r<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var o=this.bitMatrix.Dimension;e=0;var n=o-8;for(t=o-1;t>=n;t--)e=this.copyBit(t,8,e);for(r=o-7;r<o;r++)e=this.copyBit(8,r,e);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension,t=e-17>>2;if(t<=6)return Version.getVersionForNumber(t);for(var r=0,o=e-11,n=5;n>=0;n--)for(var i=e-9;i>=o;i--)r=this.copyBit(i,n,r);if(this.parsedVersion=Version.decodeVersionInformation(r),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;r=0;for(i=5;i>=0;i--)for(n=e-9;n>=o;n--)r=this.copyBit(i,n,r);if(this.parsedVersion=Version.decodeVersionInformation(r),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=DataMask.forReference(e.DataMask),o=this.bitMatrix.Dimension;r.unmaskBitMatrix(this.bitMatrix,o);for(var n=t.buildFunctionPattern(),i=!0,s=new Array(t.TotalCodewords),a=0,c=0,l=0,d=o-1;d>0;d-=2){6==d&&d--;for(var u=0;u<o;u++)for(var h=i?o-1-u:u,f=0;f<2;f++)n.get_Renamed(d-f,h)||(l++,c<<=1,this.bitMatrix.get_Renamed(d-f,h)&&(c|=1),8==l&&(s[a++]=c,l=0,c=0));i^=!0}if(a!=t.TotalCodewords)throw"Error readCodewords";return s}}DataBlock.getDataBlocks=function(e,t,r){if(e.length!=t.TotalCodewords)throw"ArgumentException";for(var o=t.getECBlocksForLevel(r),n=0,i=o.getECBlocks(),s=0;s<i.length;s++)n+=i[s].Count;for(var a=new Array(n),c=0,l=0;l<i.length;l++){var d=i[l];for(s=0;s<d.Count;s++){var u=d.DataCodewords,h=o.ECCodewordsPerBlock+u;a[c++]=new DataBlock(u,new Array(h))}}for(var f=a[0].codewords.length,B=a.length-1;B>=0;){if(a[B].codewords.length==f)break;B--}B++;var w=f-o.ECCodewordsPerBlock,C=0;for(s=0;s<w;s++)for(l=0;l<c;l++)a[l].codewords[s]=e[C++];for(l=B;l<c;l++)a[l].codewords[w]=e[C++];var k=a[0].codewords.length;for(s=w;s<k;s++)for(l=0;l<c;l++){var m=l<B?s:s+1;a[l].codewords[m]=e[C++]}return a};var DataMask={};function DataMask000(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var o=0;o<t;o++)this.isMasked(r,o)&&e.flip(o,r)},this.isMasked=function(e,t){return 0==(e+t&1)}}function DataMask001(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var o=0;o<t;o++)this.isMasked(r,o)&&e.flip(o,r)},this.isMasked=function(e,t){return 0==(1&e)}}function DataMask010(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var o=0;o<t;o++)this.isMasked(r,o)&&e.flip(o,r)},this.isMasked=function(e,t){return t%3==0}}function DataMask011(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var o=0;o<t;o++)this.isMasked(r,o)&&e.flip(o,r)},this.isMasked=function(e,t){return(e+t)%3==0}}function DataMask100(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var o=0;o<t;o++)this.isMasked(r,o)&&e.flip(o,r)},this.isMasked=function(e,t){return 0==(URShift(e,1)+t/3&1)}}function DataMask101(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var o=0;o<t;o++)this.isMasked(r,o)&&e.flip(o,r)},this.isMasked=function(e,t){var r=e*t;return(1&r)+r%3==0}}function DataMask110(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var o=0;o<t;o++)this.isMasked(r,o)&&e.flip(o,r)},this.isMasked=function(e,t){var r=e*t;return 0==((1&r)+r%3&1)}}function DataMask111(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var o=0;o<t;o++)this.isMasked(r,o)&&e.flip(o,r)},this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}function ReedSolomonDecoder(e){this.field=e,this.decode=function(e,t){for(var r=new GF256Poly(this.field,e),o=new Array(t),n=0;n<o.length;n++)o[n]=0;var i=!0;for(n=0;n<t;n++){var s=r.evaluateAt(this.field.exp(n));o[o.length-1-n]=s,0!=s&&(i=!1)}if(!i){var a=new GF256Poly(this.field,o),c=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),a,t),l=c[0],d=c[1],u=this.findErrorLocations(l),h=this.findErrorMagnitudes(d,u,!1);for(n=0;n<u.length;n++){var f=e.length-1-this.field.log(u[n]);if(f<0)throw"ReedSolomonException Bad error location";e[f]=GF256.addOrSubtract(e[f],h[n])}}},this.runEuclideanAlgorithm=function(e,t,r){if(e.Degree<t.Degree){var o=e;e=t,t=o}for(var n=e,i=t,s=this.field.One,a=this.field.Zero,c=this.field.Zero,l=this.field.One;i.Degree>=Math.floor(r/2);){var d=n,u=s,h=c;if(s=a,c=l,(n=i).Zero)throw"r_{i-1} was zero";i=d;for(var f=this.field.Zero,B=n.getCoefficient(n.Degree),w=this.field.inverse(B);i.Degree>=n.Degree&&!i.Zero;){var C=i.Degree-n.Degree,k=this.field.multiply(i.getCoefficient(i.Degree),w);f=f.addOrSubtract(this.field.buildMonomial(C,k)),i=i.addOrSubtract(n.multiplyByMonomial(C,k))}a=f.multiply1(s).addOrSubtract(u),l=f.multiply1(c).addOrSubtract(h)}var m=l.getCoefficient(0);if(0==m)throw"ReedSolomonException sigmaTilde(0) was zero";var g=this.field.inverse(m),v=l.multiply2(g),p=i.multiply2(g);return new Array(v,p)},this.findErrorLocations=function(e){var t=e.Degree;if(1==t)return new Array(e.getCoefficient(1));for(var r=new Array(t),o=0,n=1;n<256&&o<t;n++)0==e.evaluateAt(n)&&(r[o]=this.field.inverse(n),o++);if(o!=t)throw"Error locator degree does not match number of roots";return r},this.findErrorMagnitudes=function(e,t,r){for(var o=t.length,n=new Array(o),i=0;i<o;i++){for(var s=this.field.inverse(t[i]),a=1,c=0;c<o;c++)i!=c&&(a=this.field.multiply(a,GF256.addOrSubtract(1,this.field.multiply(t[c],s))));n[i]=this.field.multiply(e.evaluateAt(s),this.field.inverse(a)),r&&(n[i]=this.field.multiply(n[i],s))}return n}}function GF256Poly(e,t){if(null==t||0==t.length)throw"System.ArgumentException";this.field=e;var r=t.length;if(r>1&&0==t[0]){for(var o=1;o<r&&0==t[o];)o++;if(o==r)this.coefficients=e.Zero.coefficients;else{this.coefficients=new Array(r-o);for(var n=0;n<this.coefficients.length;n++)this.coefficients[n]=0;for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=t[o+i]}}else this.coefficients=t;this.__defineGetter__("Zero",(function(){return 0==this.coefficients[0]})),this.__defineGetter__("Degree",(function(){return this.coefficients.length-1})),this.__defineGetter__("Coefficients",(function(){return this.coefficients})),this.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},this.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var r=0,o=0;o<t;o++)r=GF256.addOrSubtract(r,this.coefficients[o]);return r}var n=this.coefficients[0];for(o=1;o<t;o++)n=GF256.addOrSubtract(this.field.multiply(e,n),this.coefficients[o]);return n},this.addOrSubtract=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return t;if(t.Zero)return this;var r=this.coefficients,o=t.coefficients;if(r.length>o.length){var n=r;r=o,o=n}for(var i=new Array(o.length),s=o.length-r.length,a=0;a<s;a++)i[a]=o[a];for(var c=s;c<o.length;c++)i[c]=GF256.addOrSubtract(r[c-s],o[c]);return new GF256Poly(e,i)},this.multiply1=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,r=t.length,o=e.coefficients,n=o.length,i=new Array(r+n-1),s=0;s<r;s++)for(var a=t[s],c=0;c<n;c++)i[s+c]=GF256.addOrSubtract(i[s+c],this.field.multiply(a,o[c]));return new GF256Poly(this.field,i)},this.multiply2=function(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,r=new Array(t),o=0;o<t;o++)r[o]=this.field.multiply(this.coefficients[o],e);return new GF256Poly(this.field,r)},this.multiplyByMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var r=this.coefficients.length,o=new Array(r+e),n=0;n<o.length;n++)o[n]=0;for(n=0;n<r;n++)o[n]=this.field.multiply(this.coefficients[n],t);return new GF256Poly(this.field,o)},this.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,r=this,o=e.getCoefficient(e.Degree),n=this.field.inverse(o);r.Degree>=e.Degree&&!r.Zero;){var i=r.Degree-e.Degree,s=this.field.multiply(r.getCoefficient(r.Degree),n),a=e.multiplyByMonomial(i,s),c=this.field.buildMonomial(i,s);t=t.addOrSubtract(c),r=r.addOrSubtract(a)}return new Array(t,r)}}function GF256(e){this.expTable=new Array(256),this.logTable=new Array(256);for(var t=1,r=0;r<256;r++)this.expTable[r]=t,(t<<=1)>=256&&(t^=e);for(r=0;r<255;r++)this.logTable[this.expTable[r]]=r;var o=new Array(1);o[0]=0,this.zero=new GF256Poly(this,new Array(o));var n=new Array(1);n[0]=1,this.one=new GF256Poly(this,new Array(n)),this.__defineGetter__("Zero",(function(){return this.zero})),this.__defineGetter__("One",(function(){return this.one})),this.buildMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.zero;for(var r=new Array(e+1),o=0;o<r.length;o++)r[o]=0;return r[0]=t,new GF256Poly(this,r)},this.exp=function(e){return this.expTable[e]},this.log=function(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]}}DataMask.forReference=function(e){if(e<0||e>7)throw"System.ArgumentException";return DataMask.DATA_MASKS[e]},DataMask.DATA_MASKS=new Array(new DataMask000,new DataMask001,new DataMask010,new DataMask011,new DataMask100,new DataMask101,new DataMask110,new DataMask111),GF256.QR_CODE_FIELD=new GF256(285),GF256.DATA_MATRIX_FIELD=new GF256(301),GF256.addOrSubtract=function(e,t){return e^t};var Decoder={};Decoder.rsDecoder=new ReedSolomonDecoder(GF256.QR_CODE_FIELD),Decoder.correctErrors=function(e,t){for(var r=e.length,o=new Array(r),n=0;n<r;n++)o[n]=255&e[n];var i=e.length-t;try{Decoder.rsDecoder.decode(o,i)}catch(e){throw e}for(n=0;n<t;n++)e[n]=o[n]},Decoder.decode=function(e){for(var t=new BitMatrixParser(e),r=t.readVersion(),o=t.readFormatInformation().ErrorCorrectionLevel,n=t.readCodewords(),i=DataBlock.getDataBlocks(n,r,o),s=0,a=0;a<i.length;a++)s+=i[a].NumDataCodewords;for(var c=new Array(s),l=0,d=0;d<i.length;d++){var u=i[d],h=u.Codewords,f=u.NumDataCodewords;Decoder.correctErrors(h,f);for(a=0;a<f;a++)c[l++]=h[a]}return new QRCodeDataBlockReader(c,r.VersionNumber,o.Bits)};var qrcode={};function URShift(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.vidSuccess=function(e){qrcode.localstream=e,qrcode.webkit?qrcode.video.src=window.webkitURL.createObjectURL(e):qrcode.moz?(qrcode.video.mozSrcObject=e,qrcode.video.play()):qrcode.video.src=e,qrcode.gUM=!0,qrcode.canvas_qr2=document.createElement("canvas"),qrcode.canvas_qr2.id="qr-canvas",qrcode.qrcontext2=qrcode.canvas_qr2.getContext("2d"),qrcode.canvas_qr2.width=qrcode.video.videoWidth,qrcode.canvas_qr2.height=qrcode.video.videoHeight,setTimeout(qrcode.captureToCanvas,500)},qrcode.vidError=function(e){qrcode.gUM=!1},qrcode.captureToCanvas=function(){if(qrcode.gUM)try{if(0==qrcode.video.videoWidth)return void setTimeout(qrcode.captureToCanvas,500);qrcode.canvas_qr2.width=qrcode.video.videoWidth,qrcode.canvas_qr2.height=qrcode.video.videoHeight,qrcode.qrcontext2.drawImage(qrcode.video,0,0);try{qrcode.decode()}catch(e){console.log(e),setTimeout(qrcode.captureToCanvas,500)}}catch(e){console.log(e),setTimeout(qrcode.captureToCanvas,500)}},qrcode.setWebcam=function(e){var t=navigator;qrcode.video=document.getElementById(e);var r=!0;if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){console.log("deb1"),"videoinput"===e.kind&&e.label.toLowerCase().search("back")>-1&&(r=[{sourceId:e.deviceId}]),console.log(e.kind+": "+e.label+" id = "+e.deviceId)}))}))}catch(e){console.log(e)}else console.log("no navigator.mediaDevices.enumerateDevices");t.getUserMedia?t.getUserMedia({video:r,audio:!1},qrcode.vidSuccess,qrcode.vidError):t.webkitGetUserMedia?(qrcode.webkit=!0,t.webkitGetUserMedia({video:r,audio:!1},qrcode.vidSuccess,qrcode.vidError)):t.mozGetUserMedia&&(qrcode.moz=!0,t.mozGetUserMedia({video:r,audio:!1},qrcode.vidSuccess,qrcode.vidError))},qrcode.decode=function(e){if(0==arguments.length){if(qrcode.canvas_qr2)var t=qrcode.canvas_qr2,r=qrcode.qrcontext2;else r=(t=document.getElementById("qr-canvas")).getContext("2d");return qrcode.width=t.width,qrcode.height=t.height,qrcode.imagedata=r.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(r),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e=document.getElementById("out-canvas");if(null!=e){var t=e.getContext("2d");t.clearRect(0,0,320,240),t.drawImage(o,0,0,320,240)}var r=document.createElement("canvas"),n=r.getContext("2d"),i=o.height,s=o.width;if(o.width*o.height>qrcode.maxImgSize){var a=o.width/o.height;s=a*(i=Math.sqrt(qrcode.maxImgSize/a))}r.width=s,r.height=i,n.drawImage(o,0,0,r.width,r.height),qrcode.width=r.width,qrcode.height=r.height;try{qrcode.imagedata=n.getImageData(0,0,r.width,r.height)}catch(e){return qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(n)}catch(e){console.log(e),qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)},o.onerror=function(){null!=qrcode.callback&&qrcode.callback("Failed to load the image")},o.src=e},qrcode.isUrl=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},qrcode.decode_url=function(e){var t="";try{t=escape(e)}catch(r){console.log(r),t=e}var r="";try{r=decodeURIComponent(t)}catch(e){console.log(e),r=t}return r},qrcode.decode_utf8=function(e){return qrcode.isUrl(e)?qrcode.decode_url(e):e},qrcode.process=function(e){var t=(new Date).getTime(),r=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var o=0;o<qrcode.height;o++)for(var n=0;n<qrcode.width;n++){var i=4*n+o*qrcode.width*4;qrcode.imagedata.data[i]=(r[n+o*qrcode.width],0),qrcode.imagedata.data[i+1]=(r[n+o*qrcode.width],0),qrcode.imagedata.data[i+2]=r[n+o*qrcode.width]?255:0}e.putImageData(qrcode.imagedata,0,0)}var s=new Detector(r).detect();if(qrcode.debug){for(o=0;o<s.bits.Height;o++)for(n=0;n<s.bits.Width;n++){i=4*n*2+2*o*qrcode.width*4;qrcode.imagedata.data[i]=(s.bits.get_Renamed(n,o),0),qrcode.imagedata.data[i+1]=(s.bits.get_Renamed(n,o),0),qrcode.imagedata.data[i+2]=s.bits.get_Renamed(n,o)?255:0}e.putImageData(qrcode.imagedata,0,0)}for(var a=Decoder.decode(s.bits).DataByte,c="",l=0;l<a.length;l++)for(var d=0;d<a[l].length;d++)c+=String.fromCharCode(a[l][d]);var u=(new Date).getTime()-t;return console.log(u),qrcode.decode_utf8(c)},qrcode.getPixel=function(e,t){if(qrcode.width<e)throw"point error";if(qrcode.height<t)throw"point error";var r=4*e+t*qrcode.width*4;return(33*qrcode.imagedata.data[r]+34*qrcode.imagedata.data[r+1]+33*qrcode.imagedata.data[r+2])/100},qrcode.binarize=function(e){for(var t=new Array(qrcode.width*qrcode.height),r=0;r<qrcode.height;r++)for(var o=0;o<qrcode.width;o++){var n=qrcode.getPixel(o,r);t[o+r*qrcode.width]=n<=e}return t},qrcode.getMiddleBrightnessPerArea=function(e){for(var t=Math.floor(qrcode.width/4),r=Math.floor(qrcode.height/4),o=new Array(4),n=0;n<4;n++){o[n]=new Array(4);for(var i=0;i<4;i++)o[n][i]=new Array(0,0)}for(var s=0;s<4;s++)for(var a=0;a<4;a++){o[a][s][0]=255;for(var c=0;c<r;c++)for(var l=0;l<t;l++){var d=e[t*a+l+(r*s+c)*qrcode.width];d<o[a][s][0]&&(o[a][s][0]=d),d>o[a][s][1]&&(o[a][s][1]=d)}}for(var u=new Array(4),h=0;h<4;h++)u[h]=new Array(4);for(s=0;s<4;s++)for(a=0;a<4;a++)u[a][s]=Math.floor((o[a][s][0]+o[a][s][1])/2);return u},qrcode.grayScaleToBitmap=function(e){for(var t=qrcode.getMiddleBrightnessPerArea(e),r=t.length,o=Math.floor(qrcode.width/r),n=Math.floor(qrcode.height/r),i=new ArrayBuffer(qrcode.width*qrcode.height),s=new Uint8Array(i),a=0;a<r;a++)for(var c=0;c<r;c++)for(var l=0;l<n;l++)for(var d=0;d<o;d++)s[o*c+d+(n*a+l)*qrcode.width]=e[o*c+d+(n*a+l)*qrcode.width]<t[c][a];return s},qrcode.grayscale=function(){for(var e=new ArrayBuffer(qrcode.width*qrcode.height),t=new Uint8Array(e),r=0;r<qrcode.height;r++)for(var o=0;o<qrcode.width;o++){var n=qrcode.getPixel(o,r);t[o+r*qrcode.width]=n}return t};var MIN_SKIP=3,MAX_MODULES=57,INTEGER_MATH_SHIFT=8,CENTER_QUORUM=2;function FinderPattern(e,t,r){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=r,this.__defineGetter__("EstimatedModuleSize",(function(){return this.estimatedModuleSize})),this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("X",(function(){return this.x})),this.__defineGetter__("Y",(function(){return this.y})),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,r){if(Math.abs(t-this.y)<=e&&Math.abs(r-this.x)<=e){var o=Math.abs(e-this.estimatedModuleSize);return o<=1||o/this.estimatedModuleSize<=1}return!1}}function FinderPatternInfo(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2],this.__defineGetter__("BottomLeft",(function(){return this.bottomLeft})),this.__defineGetter__("TopLeft",(function(){return this.topLeft})),this.__defineGetter__("TopRight",(function(){return this.topRight}))}function FinderPatternFinder(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",(function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount})),this.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var o=e[r];if(0==o)return!1;t+=o}if(t<7)return!1;var n=Math.floor((t<<INTEGER_MATH_SHIFT)/7),i=Math.floor(n/2);return Math.abs(n-(e[0]<<INTEGER_MATH_SHIFT))<i&&Math.abs(n-(e[1]<<INTEGER_MATH_SHIFT))<i&&Math.abs(3*n-(e[2]<<INTEGER_MATH_SHIFT))<3*i&&Math.abs(n-(e[3]<<INTEGER_MATH_SHIFT))<i&&Math.abs(n-(e[4]<<INTEGER_MATH_SHIFT))<i},this.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},this.crossCheckVertical=function(e,t,r,o){for(var n=this.image,i=qrcode.height,s=this.CrossCheckStateCount,a=e;a>=0&&n[t+a*qrcode.width];)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!n[t+a*qrcode.width]&&s[1]<=r;)s[1]++,a--;if(a<0||s[1]>r)return NaN;for(;a>=0&&n[t+a*qrcode.width]&&s[0]<=r;)s[0]++,a--;if(s[0]>r)return NaN;for(a=e+1;a<i&&n[t+a*qrcode.width];)s[2]++,a++;if(a==i)return NaN;for(;a<i&&!n[t+a*qrcode.width]&&s[3]<r;)s[3]++,a++;if(a==i||s[3]>=r)return NaN;for(;a<i&&n[t+a*qrcode.width]&&s[4]<r;)s[4]++,a++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-o)>=2*o?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,a):NaN},this.crossCheckHorizontal=function(e,t,r,o){for(var n=this.image,i=qrcode.width,s=this.CrossCheckStateCount,a=e;a>=0&&n[a+t*qrcode.width];)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!n[a+t*qrcode.width]&&s[1]<=r;)s[1]++,a--;if(a<0||s[1]>r)return NaN;for(;a>=0&&n[a+t*qrcode.width]&&s[0]<=r;)s[0]++,a--;if(s[0]>r)return NaN;for(a=e+1;a<i&&n[a+t*qrcode.width];)s[2]++,a++;if(a==i)return NaN;for(;a<i&&!n[a+t*qrcode.width]&&s[3]<r;)s[3]++,a++;if(a==i||s[3]>=r)return NaN;for(;a<i&&n[a+t*qrcode.width]&&s[4]<r;)s[4]++,a++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-o)>=o?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,a):NaN},this.handlePossibleCenter=function(e,t,r){var o=e[0]+e[1]+e[2]+e[3]+e[4],n=this.centerFromEnd(e,r),i=this.crossCheckVertical(t,Math.floor(n),e[2],o);if(!isNaN(i)&&(n=this.crossCheckHorizontal(Math.floor(n),Math.floor(i),e[2],o),!isNaN(n))){for(var s=o/7,a=!1,c=this.possibleCenters.length,l=0;l<c;l++){var d=this.possibleCenters[l];if(d.aboutEquals(s,i,n)){d.incrementCount(),a=!0;break}}if(!a){var u=new FinderPattern(n,i,s);this.possibleCenters.push(u),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(u)}return!0}return!1},this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(e<3)throw"Couldn't find enough finder patterns (found "+e+")";if(e>3){for(var t=0,r=0,o=0;o<e;o++){var n=this.possibleCenters[o].EstimatedModuleSize;t+=n,r+=n*n}var i=t/e;this.possibleCenters.sort((function(e,t){var r=Math.abs(t.EstimatedModuleSize-i),o=Math.abs(e.EstimatedModuleSize-i);return r<o?-1:r==o?0:1}));var s=Math.sqrt(r/e-i*i),a=Math.max(.2*i,s);for(o=this.possibleCenters.length-1;o>=0;o--){var c=this.possibleCenters[o];Math.abs(c.EstimatedModuleSize-i)>a&&this.possibleCenters.splice(o,1)}}return this.possibleCenters.length>3&&this.possibleCenters.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var e=this.possibleCenters.length;if(e<=1)return 0;for(var t=null,r=0;r<e;r++){var o=this.possibleCenters[r];if(o.Count>=CENTER_QUORUM){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-o.X)-Math.abs(t.Y-o.Y))/2);t=o}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var e=0,t=0,r=this.possibleCenters.length,o=0;o<r;o++){var n=this.possibleCenters[o];n.Count>=CENTER_QUORUM&&(e++,t+=n.EstimatedModuleSize)}if(e<3)return!1;var i=t/r,s=0;for(o=0;o<r;o++)n=this.possibleCenters[o],s+=Math.abs(n.EstimatedModuleSize-i);return s<=.05*t},this.findFinderPattern=function(e){this.image=e;var t=qrcode.height,r=qrcode.width,o=Math.floor(3*t/(4*MAX_MODULES));o<MIN_SKIP&&(o=MIN_SKIP);for(var n=!1,i=new Array(5),s=o-1;s<t&&!n;s+=o){i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0;for(var a=0,c=0;c<r;c++)if(e[c+s*qrcode.width])1==(1&a)&&a++,i[a]++;else if(0==(1&a))if(4==a)if(this.foundPatternCross(i)){if(this.handlePossibleCenter(i,s,c))if(o=2,this.hasSkipped)n=this.haveMultiplyConfirmedCenters();else{var l=this.findRowSkip();l>i[2]&&(s+=l-i[2]-o,c=r-1)}else{do{c++}while(c<r&&!e[c+s*qrcode.width]);c--}a=0,i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0}else i[0]=i[2],i[1]=i[3],i[2]=i[4],i[3]=1,i[4]=0,a=3;else i[++a]++;else i[a]++;if(this.foundPatternCross(i))this.handlePossibleCenter(i,s,r)&&(o=i[0],this.hasSkipped&&(n=this.haveMultiplyConfirmedCenters()))}var d=this.selectBestPatterns();return qrcode.orderBestPatterns(d),new FinderPatternInfo(d)}}function AlignmentPattern(e,t,r){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=r,this.__defineGetter__("EstimatedModuleSize",(function(){return this.estimatedModuleSize})),this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("X",(function(){return Math.floor(this.x)})),this.__defineGetter__("Y",(function(){return Math.floor(this.y)})),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,r){if(Math.abs(t-this.y)<=e&&Math.abs(r-this.x)<=e){var o=Math.abs(e-this.estimatedModuleSize);return o<=1||o/this.estimatedModuleSize<=1}return!1}}function AlignmentPatternFinder(e,t,r,o,n,i,s){this.image=e,this.possibleCenters=new Array,this.startX=t,this.startY=r,this.width=o,this.height=n,this.moduleSize=i,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=s,this.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},this.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,o=0;o<3;o++)if(Math.abs(t-e[o])>=r)return!1;return!0},this.crossCheckVertical=function(e,t,r,o){var n=this.image,i=qrcode.height,s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var a=e;a>=0&&n[t+a*qrcode.width]&&s[1]<=r;)s[1]++,a--;if(a<0||s[1]>r)return NaN;for(;a>=0&&!n[t+a*qrcode.width]&&s[0]<=r;)s[0]++,a--;if(s[0]>r)return NaN;for(a=e+1;a<i&&n[t+a*qrcode.width]&&s[1]<=r;)s[1]++,a++;if(a==i||s[1]>r)return NaN;for(;a<i&&!n[t+a*qrcode.width]&&s[2]<=r;)s[2]++,a++;if(s[2]>r)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-o)>=2*o?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,a):NaN},this.handlePossibleCenter=function(e,t,r){var o=e[0]+e[1]+e[2],n=this.centerFromEnd(e,r),i=this.crossCheckVertical(t,Math.floor(n),2*e[1],o);if(!isNaN(i)){for(var s=(e[0]+e[1]+e[2])/3,a=this.possibleCenters.length,c=0;c<a;c++){if(this.possibleCenters[c].aboutEquals(s,i,n))return new AlignmentPattern(n,i,s)}var l=new AlignmentPattern(n,i,s);this.possibleCenters.push(l),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(l)}return null},this.find=function(){for(var t=this.startX,n=this.height,i=t+o,s=r+(n>>1),a=new Array(0,0,0),c=0;c<n;c++){var l=s+(0==(1&c)?c+1>>1:-(c+1>>1));a[0]=0,a[1]=0,a[2]=0;for(var d=t;d<i&&!e[d+qrcode.width*l];)d++;for(var u=0;d<i;){if(e[d+l*qrcode.width])if(1==u)a[u]++;else if(2==u){var h;if(this.foundPatternCross(a))if(null!=(h=this.handlePossibleCenter(a,l,d)))return h;a[0]=a[2],a[1]=1,a[2]=0,u=1}else a[++u]++;else 1==u&&u++,a[u]++;d++}if(this.foundPatternCross(a))if(null!=(h=this.handlePossibleCenter(a,l,i)))return h}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function QRCodeDataBlockReader(e,t,r){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=r,t<=9?this.dataLengthMode=0:t>=10&&t<=26?this.dataLengthMode=1:t>=27&&t<=40&&(this.dataLengthMode=2),this.getNextBits=function(e){var t=0;if(e<this.bitPointer+1){for(var r=0,o=0;o<e;o++)r+=1<<o;return r<<=this.bitPointer-e+1,t=(this.blocks[this.blockPointer]&r)>>this.bitPointer-e+1,this.bitPointer-=e,t}if(e<this.bitPointer+1+8){var n=0;for(o=0;o<this.bitPointer+1;o++)n+=1<<o;return t=(this.blocks[this.blockPointer]&n)<<e-(this.bitPointer+1),this.blockPointer++,t+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer=this.bitPointer-e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}if(e<this.bitPointer+1+16){n=0;var i=0;for(o=0;o<this.bitPointer+1;o++)n+=1<<o;var s=(this.blocks[this.blockPointer]&n)<<e-(this.bitPointer+1);this.blockPointer++;var a=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);this.blockPointer++;for(o=0;o<e-(this.bitPointer+1+8);o++)i+=1<<o;return i<<=8-(e-(this.bitPointer+1+8)),t=s+a+((this.blocks[this.blockPointer]&i)>>8-(e-(this.bitPointer+1+8))),this.bitPointer=this.bitPointer-(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(e){for(var t=0;e>>t!=1;)t++;return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t=e,r=0,o="",n=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do{if(t>1){var i=(r=this.getNextBits(11))%45;o+=n[Math.floor(r/45)],o+=n[i],t-=2}else 1==t&&(o+=n[r=this.getNextBits(6)],t-=1)}while(t>0);return o},this.getFigureString=function(e){var t=e,r=0,o="";do{t>=3?((r=this.getNextBits(10))<100&&(o+="0"),r<10&&(o+="0"),t-=3):2==t?((r=this.getNextBits(7))<10&&(o+="0"),t-=2):1==t&&(r=this.getNextBits(4),t-=1),o+=r}while(t>0);return o},this.get8bitByteArray=function(e){var t=e,r=0,o=new Array;do{r=this.getNextBits(8),o.push(r),t--}while(t>0);return o},this.getKanjiString=function(e){var t=e,r=0,o="";do{var n=((r=this.getNextBits(13))/192<<8)+r%192,i=0;i=n+33088<=40956?n+33088:n+49472,o+=String.fromCharCode(i),t--}while(t>0);return o},this.parseECIValue=function(){var e=0,t=this.getNextBits(8);(0==(128&t)&&(e=127&t),128==(192&t))&&(e=(63&t)<<8|this.getNextBits(8));192==(224&t)&&(e=(31&t)<<16|this.getNextBits(8));return e},this.__defineGetter__("DataByte",(function(){for(var e=new Array;;){var t=this.NextMode();if(0==t){if(e.length>0)break;throw"Empty data block"}if(1!=t&&2!=t&&4!=t&&8!=t&&7!=t)throw"Invalid mode: "+t+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(7==t)var r=this.parseECIValue();else{var o=this.getDataLength(t);if(o<1)throw"Invalid data length: "+o;switch(t){case 1:for(var n=this.getFigureString(o),i=new Array(n.length),s=0;s<n.length;s++)i[s]=n.charCodeAt(s);e.push(i);break;case 2:for(n=this.getRomanAndFigureString(o),i=new Array(n.length),s=0;s<n.length;s++)i[s]=n.charCodeAt(s);e.push(i);break;case 4:r=this.get8bitByteArray(o);e.push(r);break;case 8:n=this.getKanjiString(o);e.push(n)}}}return e}))}qrcode.orderBestPatterns=function(e){function t(e,t){var r=e.X-t.X,o=e.Y-t.Y;return Math.sqrt(r*r+o*o)}var r,o,n,i=t(e[0],e[1]),s=t(e[1],e[2]),a=t(e[0],e[2]);if(s>=i&&s>=a?(o=e[0],r=e[1],n=e[2]):a>=s&&a>=i?(o=e[1],r=e[0],n=e[2]):(o=e[2],r=e[0],n=e[1]),function(e,t,r){var o=t.x,n=t.y;return(r.x-o)*(e.y-n)-(r.y-n)*(e.x-o)}(r,o,n)<0){var c=r;r=n,n=c}e[0]=r,e[1]=o,e[2]=n},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("qrcode",["exports"],t):t((e=e||self).QRCode={})}(this,(function(e){"use strict";var t;(t=e.Mode||(e.Mode={}))[t.Terminator=0]="Terminator",t[t.Numeric=1]="Numeric",t[t.Alphanumeric=2]="Alphanumeric",t[t.StructuredAppend=3]="StructuredAppend",t[t.Byte=4]="Byte",t[t.Kanji=8]="Kanji",t[t.ECI=7]="ECI";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var n=function(){return(n=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(){function t(e,t){this.mode=e,this.data=t}return t.prototype.getMode=function(){return this.mode},t.prototype.getLengthInBits=function(t){var r=this.mode,o="illegal mode: "+r;if(1<=t&&t<10)switch(r){case e.Mode.Numeric:return 10;case e.Mode.Alphanumeric:return 9;case e.Mode.Byte:case e.Mode.Kanji:return 8;default:throw o}else if(t<27)switch(r){case e.Mode.Numeric:return 12;case e.Mode.Alphanumeric:return 11;case e.Mode.Byte:return 16;case e.Mode.Kanji:return 10;default:throw o}else{if(!(t<41))throw"illegal version: "+t;switch(r){case e.Mode.Numeric:return 14;case e.Mode.Alphanumeric:return 13;case e.Mode.Byte:return 16;case e.Mode.Kanji:return 12;default:throw o}}},t}();var s=function(t){function r(r,o){var n=t.call(this,e.Mode.Byte,r)||this;if(n.encoding=-1,"function"==typeof o){var i=o(r),s=i.encoding,a=i.bytes;n.bytes=a,n.encoding=s}else n.bytes=function(e){for(var t=0,r=[],o=e.length,n=0;n<o;n++){var i=e.charCodeAt(n);i<128?r[t++]=i:i<2048?(r[t++]=i>>6|192,r[t++]=63&i|128):55296==(64512&i)&&n+1<o&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),r[t++]=i>>18|240,r[t++]=i>>12&63|128,r[t++]=i>>6&63|128,r[t++]=63&i|128):(r[t++]=i>>12|224,r[t++]=i>>6&63|128,r[t++]=63&i|128)}return r}(r),n.encoding=26;return n}return o(r,t),r.prototype.write=function(e){for(var t=this.bytes,r=t.length,o=0;o<r;o++)e.put(t[o],8)},r.prototype.getLength=function(){return this.bytes.length},r}(i);!function(e){e[e.L=1]="L",e[e.M=0]="M",e[e.Q=3]="Q",e[e.H=2]="H"}(e.ErrorCorrectionLevel||(e.ErrorCorrectionLevel={}));for(var a=[],c=[],l=0;l<256;l++)c[l]=0,a[l]=l<8?1<<l:a[l-4]^a[l-5]^a[l-6]^a[l-8];for(l=0;l<255;l++)c[a[l]]=l;function d(e){if(e<1)throw"illegal log: "+e;return c[e]}function u(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return a[e]}var h=function(){function e(e,t){void 0===t&&(t=0),this.num=[];for(var r=0,o=e.length;r<o&&0===e[r];)r++;o-=r;for(var n=0;n<o;n++)this.num.push(e[r+n]);for(n=0;n<t;n++)this.num.push(0)}return e.prototype.getAt=function(e){return this.num[e]},e.prototype.getLength=function(){return this.num.length},e.prototype.multiply=function(t){for(var r=[],o=t.getLength(),n=this.getLength(),i=n+o-1,s=0;s<i;s++)r.push(0);for(s=0;s<n;s++)for(var a=0;a<o;a++)r[s+a]^=u(d(this.getAt(s))+d(t.getAt(a)));return new e(r)},e.prototype.mod=function(t){var r=t.getLength(),o=this.getLength();if(o-r<0)return this;for(var n=d(this.getAt(0))-d(t.getAt(0)),i=[],s=0;s<o;s++)i.push(this.getAt(s));for(s=0;s<r;s++)i[s]^=u(d(t.getAt(s))+n);return new e(i).mod(t)},e}(),f=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]];function B(e){for(var t=new h([1]),r=0;r<e;r++)t=t.multiply(new h([1,u(r)]));return t}function w(e){for(var t=0;0!==e;)t++,e>>>=1;return t}var C=w(7973);var k=w(1335);function m(e,t){for(var r=0,o=e.getModuleCount(),n=0;n<o;n++)for(var i=null,s=0,a=0;a<o;a++){var c=t?e.isDark(n,a):e.isDark(a,n);c===i?5===++s?r+=3:s>5&&r++:(i=c,s=1)}return r}function g(e,t,r,o,n){r=Math.max(r,0),o=Math.min(o,e.getModuleCount());for(var i=r;i<o;i++){if(n?e.isDark(t,i):e.isDark(i,t))return!1}return!0}function v(e){return function(e){return m(e,!0)+m(e,!1)}(e)+function(e){for(var t=0,r=e.getModuleCount(),o=0;o<r-1;o++)for(var n=0;n<r-1;n++){var i=e.isDark(o,n);i===e.isDark(o,n+1)&&i===e.isDark(o+1,n)&&i===e.isDark(o+1,n+1)&&(t+=3)}return t}(e)+function(e){for(var t=0,r=e.getModuleCount(),o=0;o<r;o++)for(var n=0;n<r;n++)n+6<r&&e.isDark(o,n)&&!e.isDark(o,n+1)&&e.isDark(o,n+2)&&e.isDark(o,n+3)&&e.isDark(o,n+4)&&!e.isDark(o,n+5)&&e.isDark(o,n+6)&&(g(e,o,n-4,n,!0)||g(e,o,n+7,n+11,!0))&&(t+=40),o+6<r&&e.isDark(o,n)&&!e.isDark(o+1,n)&&e.isDark(o+2,n)&&e.isDark(o+3,n)&&e.isDark(o+4,n)&&!e.isDark(o+5,n)&&e.isDark(o+6,n)&&(g(e,n,o-4,o,!1)||g(e,n,o+7,o+11,!1))&&(t+=40);return t}(e)+function(e){for(var t=0,r=e.getModuleCount(),o=0;o<r;o++)for(var n=0;n<r;n++)e.isDark(o,n)&&t++;var i=r*r;return 10*Math.floor(Math.abs(20*t-10*i)/i)}(e)}var p=function(){function t(e,t){this.dataCount=t,this.totalCount=e}return t.prototype.getDataCount=function(){return this.dataCount},t.prototype.getTotalCount=function(){return this.totalCount},t.getRSBlocks=function(e,r){for(var o=[],n=t.getRSBlockTable(e,r),i=n.length/3,s=0;s<i;s++)for(var a=n[3*s+0],c=n[3*s+1],l=n[3*s+2],d=0;d<a;d++)o.push(new t(c,l));return o},t.getRSBlockTable=function(r,o){switch(o){case e.ErrorCorrectionLevel.L:return t.RS_BLOCK_TABLE[4*(r-1)+0];case e.ErrorCorrectionLevel.M:return t.RS_BLOCK_TABLE[4*(r-1)+1];case e.ErrorCorrectionLevel.Q:return t.RS_BLOCK_TABLE[4*(r-1)+2];case e.ErrorCorrectionLevel.H:return t.RS_BLOCK_TABLE[4*(r-1)+3];default:throw"illegal error correction level: "+o}},t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t}(),P=function(){function e(){this.length=0,this.buffer=[]}return e.prototype.getBuffer=function(){return this.buffer},e.prototype.getLengthInBits=function(){return this.length},e.prototype.getBit=function(e){return 1==(this.buffer[e/8>>0]>>>7-e%8&1)},e.prototype.put=function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},e.prototype.putBit=function(e){this.length===8*this.buffer.length&&this.buffer.push(0),e&&(this.buffer[this.length/8>>0]|=128>>>this.length%8),this.length++},e}(),E=function(){function e(){}return e.prototype.writeBytes=function(e){for(var t=e.length,r=0;r<t;r++)this.writeByte(e[r])},e.prototype.flush=function(){},e.prototype.close=function(){this.flush()},e}(),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bytes=[],t}return o(t,e),t.prototype.writeByte=function(e){this.bytes.push(e)},t.prototype.toByteArray=function(){return this.bytes},t}(E);var b=function(e){function t(t){var r=e.call(this)||this;return r.buffer=0,r.length=0,r.bufLength=0,r.stream=t,r}return o(t,e),t.prototype.writeByte=function(e){for(this.buffer=this.buffer<<8|255&e,this.bufLength+=8,this.length++;this.bufLength>=6;)this.writeEncoded(this.buffer>>>this.bufLength-6),this.bufLength-=6},t.prototype.flush=function(){if(this.bufLength>0&&(this.writeEncoded(this.buffer<<6-this.bufLength),this.buffer=0,this.bufLength=0),this.length%3!=0)for(var e=3-this.length%3,t=0;t<e;t++)this.stream.writeByte(61)},t.prototype.writeEncoded=function(e){this.stream.writeByte(function(e){if(e>=0){if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62===e)return 43;if(63===e)return 47}throw"illegal char: "+String.fromCharCode(e)}(63&e))},t}(E);var M=function(){function e(){this.size=0,this.map={}}return e.prototype.add=function(e){this.contains(e)||(this.map[e]=this.size++)},e.prototype.getSize=function(){return this.size},e.prototype.indexOf=function(e){return this.map[e]},e.prototype.contains=function(e){return this.map.hasOwnProperty(e)},e}(),_=function(){function e(e){this.output=e,this.bitLength=0}return e.prototype.write=function(e,t){if(e>>>t!=0)throw"length overflow";for(;this.bitLength+t>=8;)this.output.writeByte(255&(e<<this.bitLength|this.bitBuffer)),t-=8-this.bitLength,e>>>=8-this.bitLength,this.bitBuffer=0,this.bitLength=0;this.bitBuffer=e<<this.bitLength|this.bitBuffer,this.bitLength=this.bitLength+t},e.prototype.flush=function(){this.bitLength>0&&this.output.writeByte(this.bitBuffer),this.output.flush()},e.prototype.close=function(){this.flush(),this.output.close()},e}(),A=function(){function e(e,t){this.data=[],this.width=e,this.height=t;for(var r=e*t,o=0;o<r;o++)this.data[o]=0}return e.prototype.getLZWRaster=function(e){for(var t=1<<e,r=1+(1<<e),o=new M,n=0;n<t;n++)o.add(String.fromCharCode(n));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(r));var i=new y,s=new _(i),a=e+1;try{s.write(t,a);for(var c=0,l=String.fromCharCode(this.data[c++]),d=this.data.length;c<d;){var u=String.fromCharCode(this.data[c++]);o.contains(l+u)?l+=u:(s.write(o.indexOf(l),a),o.getSize()<4095&&(o.getSize()===1<<a&&a++,o.add(l+u)),l=u)}s.write(o.indexOf(l),a),s.write(r,a)}finally{s.close()}return i.toByteArray()},e.prototype.writeWord=function(e,t){e.writeByte(255&t),e.writeByte(t>>>8&255)},e.prototype.writeBytes=function(e,t,r,o){for(var n=0;n<o;n++)e.writeByte(t[n+r])},e.prototype.setPixel=function(e,t,r){if(e<0||this.width<=e)throw"illegal x axis: "+e;if(t<0||this.height<=t)throw"illegal y axis: "+t;this.data[t*this.width+e]=r},e.prototype.getPixel=function(e,t){if(e<0||this.width<=e)throw"illegal x axis: "+e;if(t<0||this.height<=t)throw"illegal x axis: "+t;return this.data[t*this.width+e]},e.prototype.write=function(e){e.writeByte(71),e.writeByte(73),e.writeByte(70),e.writeByte(56),e.writeByte(55),e.writeByte(97),this.writeWord(e,this.width),this.writeWord(e,this.height),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeByte(44),this.writeWord(e,0),this.writeWord(e,0),this.writeWord(e,this.width),this.writeWord(e,this.height),e.writeByte(0);var t=this.getLZWRaster(2),r=t.length;e.writeByte(2);for(var o=0;r-o>255;)e.writeByte(255),this.writeBytes(e,t,o,255),o+=255;var n=r-o;e.writeByte(n),this.writeBytes(e,t,o,n),e.writeByte(0),e.writeByte(59)},e.prototype.toDataURL=function(){var e=new y;this.write(e);var t=function(e){var t=new y,r=new b(t);try{r.writeBytes(e)}finally{r.close()}return t.close(),t.toByteArray()}(e.toByteArray());e.close();for(var r="data:image/gif;base64,",o=t.length,n=0;n<o;n++)r+=String.fromCharCode(t[n]);return r},e}();function L(e){switch(e){case 0:return function(e,t){return 0==(e+t&1)};case 1:return function(e,t){return 0==(1&t)};case 2:return function(e,t){return e%3==0};case 3:return function(e,t){return(e+t)%3==0};case 4:return function(e,t){return 0==((e/3>>0)+(t/2>>0)&1)};case 5:return function(e,t){return(e*t&1)+e*t%3==0};case 6:return function(e,t){return 0==((e*t&1)+e*t%3&1)};case 7:return function(e,t){return 0==(e*t%3+(e+t&1)&1)};default:throw"illegal mask: "+e}}var D=Object.prototype.toString;function I(t,r){if(t<0||t>=1e6)throw"byte mode encoding hint out of range";r.put(e.Mode.ECI,4),t<128?r.put(t,8):t<16384?(r.put(2,2),r.put(t,14)):(r.put(6,3),r.put(t,21))}function S(t,r,o,n){for(var i=n.length,s=new P,a=p.getRSBlocks(t,r),c=0;c<i;c++){var l=n[c],d=l.getMode();o&&d===e.Mode.Byte&&I(l.encoding,s),s.put(d,4),s.put(l.getLength(),l.getLengthInBits(t)),l.write(s)}var u=0,h=a.length;for(c=0;c<h;c++)u+=a[c].getDataCount();return[s,a,u*=8]}function T(e,t,r){if(e.getLengthInBits()>r)throw"data overflow: "+e.getLengthInBits()+" > "+r;for(e.getLengthInBits()+4<=r&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(!1);for(;!(e.getLengthInBits()>=r||(e.put(236,8),e.getLengthInBits()>=r));)e.put(17,8);return function(e,t){for(var r=0,o=0,n=0,i=[],s=[],a=t.length,c=e.getBuffer(),l=0;l<a;l++){var d=t[l],u=d.getDataCount(),f=d.getTotalCount()-u;o=Math.max(o,u),n=Math.max(n,f),i[l]=[];for(var w=0;w<u;w++)i[l][w]=255&c[w+r];r+=u;var C=B(f),k=C.getLength()-1,m=new h(i[l],k).mod(C),g=m.getLength();s[l]=[];for(w=0;w<k;w++){var v=w+g-k;s[l][w]=v>=0?m.getAt(v):0}}for(e=new P,w=0;w<o;w++)for(l=0;l<a;l++)w<i[l].length&&e.put(i[l][w],8);for(w=0;w<n;w++)for(l=0;l<a;l++)w<s[l].length&&e.put(s[l][w],8);return e}(e,t)}var N=function(){function t(){this.version=0,this.chunks=[],this.moduleCount=0,this.modules=[],this.hasEncodingHint=!1,this.autoVersion=0===this.version,this.errorCorrectionLevel=e.ErrorCorrectionLevel.L}return t.prototype.getModules=function(){return this.modules},t.prototype.getModuleCount=function(){return this.moduleCount},t.prototype.getVersion=function(){return this.version},t.prototype.setVersion=function(e){return this.version=Math.min(40,Math.max(0,e>>0)),this.autoVersion=0===this.version,this},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.setErrorCorrectionLevel=function(t){switch(t){case e.ErrorCorrectionLevel.L:case e.ErrorCorrectionLevel.M:case e.ErrorCorrectionLevel.Q:case e.ErrorCorrectionLevel.H:this.errorCorrectionLevel=t}return this},t.prototype.getEncodingHint=function(){return this.hasEncodingHint},t.prototype.setEncodingHint=function(e){return this.hasEncodingHint=e,this},t.prototype.write=function(e){if(e instanceof i)this.chunks.push(e);else{if("[object String]"!==D.call(e))throw"illegal data: "+e;this.chunks.push(new s(e))}return this},t.prototype.isDark=function(e,t){return null!==this.modules[e][t]&&this.modules[e][t]},t.prototype.setupFinderPattern=function(e,t){for(var r=this.moduleCount,o=-1;o<=7;o++)for(var n=-1;n<=7;n++)e+o<=-1||r<=e+o||t+n<=-1||r<=t+n||(this.modules[e+o][t+n]=0<=o&&o<=6&&(0===n||6===n)||0<=n&&n<=6&&(0===o||6===o)||2<=o&&o<=4&&2<=n&&n<=4)},t.prototype.setupAlignmentPattern=function(){for(var e,t=(e=this.version,f[e-1]),r=t.length,o=0;o<r;o++)for(var n=0;n<r;n++){var i=t[o],s=t[n];if(null===this.modules[i][s])for(var a=-2;a<=2;a++)for(var c=-2;c<=2;c++)this.modules[i+a][s+c]=-2===a||2===a||-2===c||2===c||0===a&&0===c}},t.prototype.setupTimingPattern=function(){for(var e=this.moduleCount-8,t=8;t<e;t++){var r=t%2==0;null===this.modules[t][6]&&(this.modules[t][6]=r),null===this.modules[6][t]&&(this.modules[6][t]=r)}},t.prototype.setupFormatInfo=function(e){for(var t=function(e){for(var t=e<<10;w(t)-k>=0;)t^=1335<<w(t)-k;return 21522^(e<<10|t)}(this.errorCorrectionLevel<<3|e),r=this.moduleCount,o=0;o<15;o++){var n=1==(t>>o&1);o<6?this.modules[o][8]=n:o<8?this.modules[o+1][8]=n:this.modules[r-15+o][8]=n,o<8?this.modules[8][r-o-1]=n:o<9?this.modules[8][15-o-1+1]=n:this.modules[8][15-o-1]=n}this.modules[r-8][8]=!0},t.prototype.setupVersionInfo=function(){if(this.version>=7)for(var e=this.moduleCount,t=function(e){for(var t=e<<12;w(t)-C>=0;)t^=7973<<w(t)-C;return e<<12|t}(this.version),r=0;r<18;r++){var o=1==(t>>r&1);this.modules[r/3>>0][r%3+e-8-3]=o,this.modules[r%3+e-8-3][r/3>>0]=o}},t.prototype.setupCodewords=function(e,t){for(var r=0,o=this.moduleCount,n=e.getLengthInBits(),i=o-1;i>=1;i-=2){6===i&&(i=5);for(var s=0;s<o;s++)for(var a=0;a<2;a++){var c=i-a,l=0==(i+1&2)?o-1-s:s;if(null===this.modules[l][c]){var d=!1;r<n&&(d=e.getBit(r++)),L(t)(c,l)&&(d=!d),this.modules[l][c]=d}}}},t.prototype.buildMatrix=function(e,t){this.modules=[];for(var r=this.moduleCount,o=0;o<r;o++){this.modules[o]=[];for(var n=0;n<r;n++)this.modules[o][n]=null}this.setupFinderPattern(0,0),this.setupFinderPattern(r-7,0),this.setupFinderPattern(0,r-7),this.setupAlignmentPattern(),this.setupTimingPattern(),this.setupFormatInfo(t),this.setupVersionInfo(),this.setupCodewords(e,t)},t.prototype.make=function(){var e,t,r,o,n,i=this.chunks,s=this.errorCorrectionLevel;if(this.autoVersion)for(this.version=1;this.version<=40&&(r=(e=S(this.version,s,this.hasEncodingHint,i))[0],o=e[1],n=e[2],!(r.getLengthInBits()<=n));this.version++);else r=(t=S(this.version,s,this.hasEncodingHint,i))[0],o=t[1],n=t[2];this.moduleCount=4*this.version+17;for(var a=[],c=T(r,o,n),l=-1,d=Number.MAX_VALUE,u=0;u<8;u++){this.buildMatrix(c,u),a.push(this.modules);var h=v(this);h<d&&(d=h,l=u)}return this.modules=a[l],this},t.prototype.toDataURL=function(e,t){void 0===e&&(e=2),void 0===t&&(t=4*e),e=Math.max(1,e>>0),t=Math.max(0,t>>0);for(var r=e*this.moduleCount+2*t,o=new A(r,r),n=0;n<r;n++)for(var i=0;i<r;i++)t<=i&&i<r-t&&t<=n&&n<r-t&&this.isDark((n-t)/e>>0,(i-t)/e>>0)?o.setPixel(i,n,0):o.setPixel(i,n,1);return o.toDataURL()},t}();function x(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function q(e){return e.reduce((function(e,t){return e+t}))}function R(e,t,r,o){var n,i,s,a,c=[{x:Math.floor(e.x),y:Math.floor(e.y)}],l=Math.abs(t.y-e.y)>Math.abs(t.x-e.x);l?(n=Math.floor(e.y),i=Math.floor(e.x),s=Math.floor(t.y),a=Math.floor(t.x)):(n=Math.floor(e.x),i=Math.floor(e.y),s=Math.floor(t.x),a=Math.floor(t.y));for(var d=Math.abs(s-n),u=Math.abs(a-i),h=Math.floor(-d/2),f=n<s?1:-1,B=i<a?1:-1,w=!0,C=n,k=i;C!==s+f;C+=f){var m=l?k:C,g=l?C:k;if(r.get(m,g)!==w&&(w=!w,c.push({x:m,y:g}),c.length===o+1))break;if((h+=u)>0){if(k===a)break;k+=B,h-=d}}for(var v=[],p=0;p<o;p++)c[p]&&c[p+1]?v.push(x(c[p],c[p+1])):v.push(0);return v}function O(e,t,r,o){var n,i=t.y-e.y,s=t.x-e.x,a=R(e,t,r,Math.ceil(o/2)),c=R(e,{x:e.x-s,y:e.y-i},r,Math.ceil(o/2)),l=a.shift()+c.shift()-1;return(n=c.concat(l)).concat.apply(n,a)}function F(e,t){var r=q(e)/q(t),o=0;return t.forEach((function(t,n){o+=Math.pow(e[n]-t*r,2)})),{averageSize:r,error:o}}function G(e,t,r){try{var o=O(e,{x:-1,y:e.y},r,t.length),n=O(e,{x:e.x,y:-1},r,t.length),i=O(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},r,t.length),s=O(e,{x:Math.min(r.width,e.x+e.y)+1,y:Math.min(r.height,e.y+e.x)+1},r,t.length),a=F(o,t),c=F(n,t),l=F(i,t),d=F(s,t),u=Math.sqrt(a.error*a.error+c.error*c.error+l.error*l.error+d.error*d.error),h=(a.averageSize+c.averageSize+l.averageSize+d.averageSize)/4;return u+(Math.pow(a.averageSize-h,2)+Math.pow(c.averageSize-h,2)+Math.pow(l.averageSize-h,2)+Math.pow(d.averageSize-h,2))/h}catch(e){return 1/0}}function V(e){for(var t,r=[],o=[],n=[],i=[],s=function(t){for(var s=0,a=!1,c=[0,0,0,0,0],l=function(r){var o=e.get(r,t);if(o===a)s++;else{c=[c[1],c[2],c[3],c[4],s],s=1,a=o;var l=q(c)/7,d=Math.abs(c[0]-l)<l&&Math.abs(c[1]-l)<l&&Math.abs(c[2]-3*l)<3*l&&Math.abs(c[3]-l)<l&&Math.abs(c[4]-l)<l&&!o,u=q(c.slice(-3))/3,h=Math.abs(c[2]-u)<u&&Math.abs(c[3]-u)<u&&Math.abs(c[4]-u)<u&&o;if(d){var f=r-c[3]-c[4],B=f-c[2],w={startX:B,endX:f,y:t};(C=n.filter((function(e){return B>=e.bottom.startX&&B<=e.bottom.endX||f>=e.bottom.startX&&B<=e.bottom.endX||B<=e.bottom.startX&&f>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5}))).length>0?C[0].bottom=w:n.push({top:w,bottom:w})}if(h){var C,k=r-c[4],m=k-c[3];w={startX:m,y:t,endX:k};(C=i.filter((function(e){return m>=e.bottom.startX&&m<=e.bottom.endX||k>=e.bottom.startX&&m<=e.bottom.endX||m<=e.bottom.startX&&k>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5}))).length>0?C[0].bottom=w:i.push({top:w,bottom:w})}}},d=-1;d<=e.width;d++)l(d);r.push.apply(r,n.filter((function(e){return e.bottom.y!==t&&e.bottom.y-e.top.y>=2}))),n=n.filter((function(e){return e.bottom.y===t})),o.push.apply(o,i.filter((function(e){return e.bottom.y!==t}))),i=i.filter((function(e){return e.bottom.y===t}))},a=0;a<=e.height;a++)s(a);r.push.apply(r,n.filter((function(e){return e.bottom.y-e.top.y>=2}))),o.push.apply(o,i);var c=r.filter((function(e){return e.bottom.y-e.top.y>=2})).map((function(t){var r=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,o=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(r),Math.round(o))){var n=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],i=q(n)/n.length;return{score:G({x:Math.round(r),y:Math.round(o)},[1,1,3,1,1],e),x:r,y:o,size:i}}})).filter((function(e){return!!e})).sort((function(e,t){return e.score-t.score})).map((function(e,t,r){if(t>4)return null;var o=r.filter((function(e,r){return t!==r})).map((function(t){return{x:t.x,y:t.y,score:t.score+Math.pow(t.size-e.size,2)/e.size,size:t.size}})).sort((function(e,t){return e.score-t.score}));if(o.length<2)return null;var n=e.score+o[0].score+o[1].score;return{points:[e].concat(o.slice(0,2)),score:n}})).filter((function(e){return!!e})).sort((function(e,t){return e.score-t.score}));if(0===c.length)return null;var l,d,u=function(e,t,r){var o,n,i,s,a,c,l,d=x(e,t),u=x(t,r),h=x(e,r);return u>=d&&u>=h?(l=(o=[t,e,r])[0],a=o[1],c=o[2]):h>=u&&h>=d?(l=(n=[e,t,r])[0],a=n[1],c=n[2]):(l=(i=[e,r,t])[0],a=i[1],c=i[2]),(c.x-a.x)*(l.y-a.y)-(c.y-a.y)*(l.x-a.x)<0&&(l=(s=[c,l])[0],c=s[1]),{bottomLeft:l,topLeft:a,topRight:c}}(c[0].points[0],c[0].points[1],c[0].points[2]),h=u.topRight,f=u.topLeft,B=u.bottomLeft;try{t=function(e,t,r,o){var n=(q(O(e,r,o,5))/7+q(O(e,t,o,5))/7+q(O(r,e,o,5))/7+q(O(t,e,o,5))/7)/4;if(n<1)throw"invalid module size";var i=Math.round(x(e,t)/n),s=Math.round(x(e,r)/n),a=Math.floor((i+s)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:n}}(f,h,B,e),l=t.dimension,d=t.moduleSize}catch(e){return null}var w=h.x-f.x+B.x,C=h.y-f.y+B.y,k=(x(f,B)+x(f,h))/2/d,m=1-3/k,g={x:f.x+m*(w-f.x),y:f.y+m*(C-f.y)},v=o.map((function(t){var r=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,o=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(r),Math.floor(o)))return{x:r,y:o,score:G({x:Math.floor(r),y:Math.floor(o)},[1,1,1],e)+x({x:r,y:o},g)}})).filter((function(e){return!!e})).sort((function(e,t){return e.score-t.score})),p=k>=15&&v.length?v[0]:g;return{dimension:l,topLeft:{x:f.x,y:f.y},topRight:{x:h.x,y:h.y},bottomLeft:{x:B.x,y:B.y},alignmentPattern:{x:p.x,y:p.y}}}var z=function(){function e(e,t){if(0===t.length)throw"no coefficients";this.field=e;var r=t.length;if(r>1&&0===t[0]){for(var o=1;o<r&&0===t[o];)o++;if(o===r)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(r-o);for(var n=0;n<this.coefficients.length;n++)this.coefficients[n]=t[o+n]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){var r;if(this.isZero())return t;if(t.isZero())return this;var o=this.coefficients,n=t.coefficients;o.length>n.length&&(o=(r=[n,o])[0],n=r[1]);for(var i=new Uint8ClampedArray(n.length),s=n.length-o.length,a=0;a<s;a++)i[a]=n[a];for(a=s;a<n.length;a++)i[a]=U(o[a-s],n[a]);return new e(this.field,i)},e.prototype.multiply=function(t){if(0===t)return this.field.zero;if(1===t)return this;for(var r=this.coefficients.length,o=new Uint8ClampedArray(r),n=0;n<r;n++)o[n]=this.field.multiply(this.coefficients[n],t);return new e(this.field,o)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var r=this.coefficients,o=r.length,n=t.coefficients,i=n.length,s=new Uint8ClampedArray(o+i-1),a=0;a<o;a++)for(var c=r[a],l=0;l<i;l++)s[a+l]=U(s[a+l],this.field.multiply(c,n[l]));return new e(this.field,s)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw"invalid degree less than 0";if(0===r)return this.field.zero;for(var o=this.coefficients.length,n=new Uint8ClampedArray(o+t),i=0;i<o;i++)n[i]=this.field.multiply(this.coefficients[i],r);return new e(this.field,n)},e.prototype.evaluateAt=function(e){var t=0;if(0===e)return this.getCoefficient(0);var r=this.coefficients.length;if(1===e)return this.coefficients.forEach((function(e){t=U(t,e)})),t;t=this.coefficients[0];for(var o=1;o<r;o++)t=U(this.field.multiply(e,t),this.coefficients[o]);return t},e}();function U(e,t){return e^t}var H=function(){function e(e,t,r){this.primitive=e,this.size=t,this.generatorBase=r,this.expTable=[],this.logTable=[];for(var o=1,n=0;n<this.size;n++)this.logTable[n]=0,this.expTable[n]=o,(o*=2)>=this.size&&(o=(o^this.primitive)&this.size-1);for(n=0;n<this.size-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new z(this,Uint8ClampedArray.from([0])),this.one=new z(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(0===e)throw"can't invert 0";return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw"invalid monomial degree less than 0";if(0===t)return this.zero;var r=new Uint8ClampedArray(e+1);return r[0]=t,new z(this,r)},e.prototype.log=function(e){if(0===e)throw"can't take log(0)";return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}();function X(e,t){var r=new Uint8ClampedArray(e.length);r.set(e);for(var o=new H(285,256,0),n=new z(o,r),i=new Uint8ClampedArray(t),s=!1,a=0;a<t;a++){var c=n.evaluateAt(o.exp(a+o.generatorBase));i[i.length-1-a]=c,0!==c&&(s=!0)}if(!s)return r;var l=new z(o,i),d=function(e,t,r,o){var n;t.degree()<r.degree()&&(t=(n=[r,t])[0],r=n[1]);for(var i=t,s=r,a=e.zero,c=e.one;s.degree()>=o/2;){var l=i,d=a;if(a=c,(i=s).isZero())return null;s=l;for(var u=e.zero,h=i.getCoefficient(i.degree()),f=e.inverse(h);s.degree()>=i.degree()&&!s.isZero();){var B=s.degree()-i.degree(),w=e.multiply(s.getCoefficient(s.degree()),f);u=u.addOrSubtract(e.buildMonomial(B,w)),s=s.addOrSubtract(i.multiplyByMonomial(B,w))}if(c=u.multiplyPoly(a).addOrSubtract(d),s.degree()>=i.degree())return null}var C=c.getCoefficient(0);if(0===C)return null;var k=e.inverse(C);return[c.multiply(k),s.multiply(k)]}(o,o.buildMonomial(t,1),l,t);if(null===d)return null;var u=function(e,t){var r=t.degree();if(1===r)return[t.getCoefficient(1)];for(var o=0,n=new Array(r),i=1;i<e.size&&o<r;i++)0===t.evaluateAt(i)&&(n[o]=e.inverse(i),o++);return o!==r?null:n}(o,d[0]);if(null==u)return null;for(var h=function(e,t,r){for(var o=r.length,n=new Array(o),i=0;i<o;i++){for(var s=1,a=e.inverse(r[i]),c=0;c<o;c++)i!==c&&(s=e.multiply(s,U(1,e.multiply(r[c],a))));n[i]=e.multiply(t.evaluateAt(a),e.inverse(s)),0!==e.generatorBase&&(n[i]=e.multiply(n[i],a))}return n}(o,d[1],u),f=0;f<u.length;f++){var B=r.length-1-o.log(u[f]);if(B<0)return null;r[B]=U(r[B],h[f])}return r}var Q,K=function(){function e(e,t){this.data=e,this.width=t,this.height=e.length/t}return e.createEmpty=function(t,r){return new e(new Uint8ClampedArray(t*r),t)},e.prototype.get=function(e,t){return!(e<0||e>=this.width||t<0||t>=this.height)&&!!this.data[t*this.width+e]},e.prototype.set=function(e,t,r){this.data[t*this.width+e]=r?1:0},e.prototype.setRegion=function(e,t,r,o,n){for(var i=t;i<t+o;i++)for(var s=e;s<e+r;s++)this.set(s,i,!!n)},e}(),Y=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw"can't read "+e+" bits";var t=0;if(this.bitOffset>0){var r=8-this.bitOffset,o=e<r?e:r,n=255>>8-o<<(i=r-o);t=(this.bytes[this.byteOffset]&n)>>i,e-=o,this.bitOffset+=o,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;if(e>0){var i;n=255>>(i=8-e)<<i;t=t<<e|(this.bytes[this.byteOffset]&n)>>i,this.bitOffset+=e}}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}(),W=[[33088,""],[33152," "],[33167,"  "],[33190,""],[33226,""],[33359,""],[33376,""],[33409,""],[33439," "],[33600,""],[33664," "],[33695," "],[33727,""],[33856," "],[33904,""],[33920,""],[34688,""],[35136,"     "],[35200,"   "],[35392,"   "],[35456,"     "],[35648,"   "],[35712,"   "],[35904,"  "],[35968,"   "],[36160,"   "],[36224,"          "],[36416,""],[36480,"  "],[36672,""],[36736,"      "],[36928,"  "],[36992,"       "],[37184,"  "],[37248,"    "],[37440," "],[37504,"     "],[37696,"    "],[37760,"      "],[37952," "],[38016,"    "],[38208,"  "],[38272,"   "],[38464,"    "],[38528," "],[38720,"  "],[38784,"    "],[38976," "],[39071," "],[39232," "],[39296,"  "],[39488,""],[39552,"         "],[39744,""],[39808,"  "],[4e4,"  "],[40064," "],[40256," "],[40320,"  "],[40512,"     "],[40576,"     "],[40768,""],[40832,""],[57408,""],[57472,"  "],[57664," "],[57728,"      "],[57920,"  "],[57984," "],[58176,""],[58240," "],[58432,"  "],[58496,"   "],[58688," "],[58752,"                 "],[58944,""],[59008,"  "],[59200," "],[59264,""],[59456,"  "],[59520,"         "],[59712," "],[59776,"  "],[59968," "],[60032,"   "]];function j(){if(!Q){for(var e={},t={},r=W.length,o=0;o<r;o++)for(var n=W[o],i=n[1],s=i.length,a=0;a<s;a++){var c=n[0]+a,l=i.charAt(a).charCodeAt(0);e[l]=c,t[c]=l}Q={UTF8_TO_SJIS:e,SJIS_TO_UTF8:t}}return Q}function Z(e,t){for(var r="",o=[],n=[10,12,14][t],i=e.readBits(n);i>=3;){if((l=e.readBits(10))>=1e3)throw"invalid numeric value above 999";var s=Math.floor(l/100),a=Math.floor(l/10)%10,c=l%10;o.push(48+s,48+a,48+c),r+=s.toString()+a.toString()+c.toString(),i-=3}if(2===i){if((l=e.readBits(7))>=100)throw"invalid numeric value above 99";s=Math.floor(l/10),a=l%10;o.push(48+s,48+a),r+=s.toString()+a.toString()}else if(1===i){var l;if((l=e.readBits(4))>=10)throw"invalid numeric value above 9";o.push(48+l),r+=l.toString()}return{bytes:o,data:r}}var J=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function $(e,t){for(var r="",o=[],n=[9,11,13][t],i=e.readBits(n);i>=2;){var s=e.readBits(11),a=Math.floor(s/45),c=s%45;o.push(J[a].charCodeAt(0),J[c].charCodeAt(0)),r+=J[a]+J[c],i-=2}if(1===i){a=e.readBits(6);o.push(J[a].charCodeAt(0)),r+=J[a]}return{bytes:o,data:r}}function ee(e){for(var t=0,r="",o=e.length;t<o;){var n=e[t++];if(n<128)r+=String.fromCharCode(n);else if(n>191&&n<224){var i=e[t++];r+=String.fromCharCode((31&n)<<6|63&i)}else if(n>239&&n<365){var s=((7&n)<<18|(63&(i=e[t++]))<<12|(63&(a=e[t++]))<<6|63&e[t++])-65536;r+=String.fromCharCode(55296+(s>>10)),r+=String.fromCharCode(56320+(1023&s))}else{i=e[t++];var a=e[t++];r+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&a)}}return r}function te(e){for(var t=0,r="",o=e.length,n=j().SJIS_TO_UTF8;t<o;){var i=e[t++];if(i<128)r+=String.fromCharCode(i);else if(160<=i&&i<=223)r+=String.fromCharCode(i+65216);else{var s=(i<<8)+e[t++];r+=null!=(s=n[s])?String.fromCharCode(s):"?"}}return r}function re(e,t,r){for(var o=[],n=[8,16,16][t],i=e.readBits(n),s=0;s<i;s++)o.push(e.readBits(8));return{bytes:o,data:20===r?te(o):ee(o)}}function oe(e,t){for(var r="",o=[],n=j().SJIS_TO_UTF8,i=[8,10,12][t],s=e.readBits(i),a=0;a<s;a++){var c=e.readBits(13),l=Math.floor(c/192)<<8|c%192;l+=l<7936?33088:49472,o.push(l>>8,255&l);var d=n[l];r+=String.fromCharCode(null!=d?d:l)}return{bytes:o,data:r}}var ne=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]}]}];function ie(e,t){for(var r=e^t,o=0;r;)o++,r&=r-1;return o}function se(e,t){return t<<1|e}var ae=[{bits:21522,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:2,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:3,dataMask:7}}];function ce(e,t,r){for(var o=e.height,n=L(r.dataMask),i=function(e){var t=17+4*e.versionNumber,r=K.createEmpty(t,t);r.setRegion(0,0,9,9,!0),r.setRegion(t-8,0,8,9,!0),r.setRegion(0,t-8,9,8,!0);for(var o=0,n=e.alignmentPatternCenters;o<n.length;o++)for(var i=n[o],s=0,a=e.alignmentPatternCenters;s<a.length;s++){var c=a[s];6===i&&6===c||6===i&&c===t-7||i===t-7&&6===c||r.setRegion(i-2,c-2,5,5,!0)}return r.setRegion(6,9,1,t-17,!0),r.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(r.setRegion(t-11,0,3,6,!0),r.setRegion(0,t-11,6,3,!0)),r}(t),s=0,a=0,c=[],l=!0,d=o-1;d>0;d-=2){6===d&&d--;for(var u=0;u<o;u++)for(var h=l?o-1-u:u,f=0;f<2;f++){var B=d-f;if(!i.get(B,h)){s++;var w=e.get(B,h);n(B,h)&&(w=!w),a=se(w,a),8===s&&(c.push(a),s=0,a=0)}}l=!l}return c}function le(t){var r=function(e){var t=e.height,r=Math.floor((t-17)/4);if(r<=6)return ne[r-1];for(var o=0,n=5;n>=0;n--)for(var i=t-9;i>=t-11;i--)o=se(e.get(i,n),o);var s,a=0;for(i=5;i>=0;i--)for(n=t-9;n>=t-11;n--)a=se(e.get(i,n),a);for(var c=1/0,l=0,d=ne;l<d.length;l++){var u=d[l];if(u.infoBits===o||u.infoBits===a)return u;var h=ie(o,u.infoBits);h<c&&(s=u,c=h),(h=ie(a,u.infoBits))<c&&(s=u,c=h)}return c<=3?s:void 0}(t);if(!r)return null;var o=function(e){for(var t=0,r=0;r<=8;r++)6!==r&&(t=se(e.get(r,8),t));for(var o=7;o>=0;o--)6!==o&&(t=se(e.get(8,o),t));var n=e.height,i=0;for(o=n-1;o>=n-7;o--)i=se(e.get(8,o),i);for(r=n-8;r<n;r++)i=se(e.get(r,8),i);for(var s=1/0,a=null,c=0,l=ae;c<l.length;c++){var d=l[c],u=d.bits,h=d.formatInfo;if(u===t||u===i)return h;var f=ie(t,u);f<s&&(a=h,s=f),t!==i&&(f=ie(i,u))<s&&(a=h,s=f)}return s<=3?a:null}(t);if(!o)return null;var i=function(e,t,r){var o=[],n=t.errorCorrectionLevels[r],i=0;if(n.ecBlocks.forEach((function(e){for(var t=0;t<e.numBlocks;t++)o.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),i+=e.dataCodewordsPerBlock+n.ecCodewordsPerBlock})),e.length<i)return null;e=e.slice(0,i);for(var s=n.ecBlocks[0].dataCodewordsPerBlock,a=0;a<s;a++)for(var c=0,l=o;c<l.length;c++){l[c].codewords.push(e.shift())}if(n.ecBlocks.length>1){var d=n.ecBlocks[0].numBlocks,u=n.ecBlocks[1].numBlocks;for(a=0;a<u;a++)o[d+a].codewords.push(e.shift())}for(;e.length>0;)for(var h=0,f=o;h<f.length;h++){f[h].codewords.push(e.shift())}return o}(ce(t,r,o),r,o.errorCorrectionLevel);if(!i)return null;for(var s=i.reduce((function(e,t){return e+t.numDataCodewords}),0),a=new Uint8ClampedArray(s),c=0,l=0,d=i;l<d.length;l++){var u=d[l],h=X(u.codewords,u.codewords.length-u.numDataCodewords);if(!h)return null;for(var f=0;f<u.numDataCodewords;f++)a[c++]=h[f]}try{return function(t,r,o){for(var i,s,a,c,l=26,d=new Y(t),u=r<=9?0:r<=26?1:2,h={data:"",bytes:[],chunks:[],version:r,errorCorrectionLevel:o};d.available()>=4;){var f=d.readBits(4);if(f===e.Mode.Terminator)return h;if(f===e.Mode.ECI)0===d.readBits(1)?(l=d.readBits(7),h.chunks.push({mode:e.Mode.ECI,encoding:l})):0===d.readBits(1)?(l=d.readBits(14),h.chunks.push({mode:e.Mode.ECI,encoding:l})):0===d.readBits(1)?(l=d.readBits(21),h.chunks.push({mode:e.Mode.ECI,encoding:l})):h.chunks.push({mode:e.Mode.ECI,encoding:-1});else if(f===e.Mode.Numeric){var B=Z(d,u);h.data+=B.data,h.chunks.push({mode:e.Mode.Numeric,data:B.data,bytes:B.bytes}),(i=h.bytes).push.apply(i,B.bytes)}else if(f===e.Mode.Alphanumeric){var w=$(d,u);h.data+=w.data,h.chunks.push({mode:e.Mode.Alphanumeric,data:w.data,bytes:w.bytes}),(s=h.bytes).push.apply(s,w.bytes)}else if(f===e.Mode.StructuredAppend){var C={symbols:[d.readBits(4),d.readBits(4)],parity:d.readBits(8)};h.chunks.push(n({mode:e.Mode.StructuredAppend},C))}else if(f===e.Mode.Byte){var k=re(d,u,l);h.data+=k.data,h.chunks.push({mode:e.Mode.Byte,data:k.data,bytes:k.bytes}),(a=h.bytes).push.apply(a,k.bytes)}else if(f===e.Mode.Kanji){var m=oe(d,u);h.data+=m.data,h.chunks.push({mode:e.Mode.Kanji,data:m.data,bytes:m.bytes}),(c=h.bytes).push.apply(c,m.bytes)}}if(0===d.available()||0===d.readBits(d.available()))return h}(a,r.versionNumber,o.errorCorrectionLevel)}catch(e){return null}}function de(e,t,r,o){var n=e.x-t.x+r.x-o.x,i=e.y-t.y+r.y-o.y;if(0===n&&0===i)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:r.x-t.x,a22:r.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var s=t.x-r.x,a=o.x-r.x,c=t.y-r.y,l=o.y-r.y,d=s*l-a*c,u=(n*l-a*i)/d,h=(s*i-n*c)/d;return{a11:t.x-e.x+u*t.x,a12:t.y-e.y+u*t.y,a13:u,a21:o.x-e.x+h*o.x,a22:o.y-e.y+h*o.y,a23:h,a31:e.x,a32:e.y,a33:1}}function ue(e,t){for(var r,o,n=function(e,t,r,o){var n=de(e,t,r,o);return{a11:n.a22*n.a33-n.a23*n.a32,a12:n.a13*n.a32-n.a12*n.a33,a13:n.a12*n.a23-n.a13*n.a22,a21:n.a23*n.a31-n.a21*n.a33,a22:n.a11*n.a33-n.a13*n.a31,a23:n.a13*n.a21-n.a11*n.a23,a31:n.a21*n.a32-n.a22*n.a31,a32:n.a12*n.a31-n.a11*n.a32,a33:n.a11*n.a22-n.a12*n.a21}}({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),i=de(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),s=(o=n,{a11:(r=i).a11*o.a11+r.a21*o.a12+r.a31*o.a13,a12:r.a12*o.a11+r.a22*o.a12+r.a32*o.a13,a13:r.a13*o.a11+r.a23*o.a12+r.a33*o.a13,a21:r.a11*o.a21+r.a21*o.a22+r.a31*o.a23,a22:r.a12*o.a21+r.a22*o.a22+r.a32*o.a23,a23:r.a13*o.a21+r.a23*o.a22+r.a33*o.a23,a31:r.a11*o.a31+r.a21*o.a32+r.a31*o.a33,a32:r.a12*o.a31+r.a22*o.a32+r.a32*o.a33,a33:r.a13*o.a31+r.a23*o.a32+r.a33*o.a33}),a=K.createEmpty(t.dimension,t.dimension),c=function(e,t){var r=s.a13*e+s.a23*t+s.a33;return{x:Math.max(0,(s.a11*e+s.a21*t+s.a31)/r),y:Math.max(0,(s.a12*e+s.a22*t+s.a32)/r)}},l=0;l<t.dimension;l++)for(var d=0;d<t.dimension;d++){var u=c(d+.5,l+.5);a.set(d,l,e.get(Math.floor(u.x),Math.floor(u.y)))}return{matrix:a,mappingFunction:c}}function he(e,t,r){return e<t?t:e>r?r:e}var fe=function(){function e(e,t,r){this.width=e;var o=e*t;if(r&&r.length!==o)throw"wrong buffer size";this.data=r||new Uint8ClampedArray(o)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,r){this.data[t*this.width+e]=r},e}();function Be(e){var t=V(e);if(!t)return null;var r=ue(e,t),o=function(e){if(null==e)return null;var t=le(e);if(t)return t;for(var r=0;r<e.width;r++)for(var o=r+1;o<e.height;o++)e.get(r,o)!==e.get(o,r)&&(e.set(r,o,!e.get(r,o)),e.set(o,r,!e.get(o,r)));return le(e)}(r.matrix);if(!o)return null;var i=t.dimension;return n({},o,{location:{topLeft:r.mappingFunction(0,0),topRight:r.mappingFunction(i,0),bottomLeft:r.mappingFunction(0,i),bottomRight:r.mappingFunction(i,i),topLeftFinder:t.topLeft,topRightFinder:t.topRight,bottomLeftFinder:t.bottomLeft,bottomRightAlignment:o.version>1?t.alignmentPattern:null}})}var we={canOverwriteImage:!0,greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},inversionAttempts:"attemptBoth"};function Ce(e){e.onload=null,e.onerror=null}var ke=function(){function e(){this.options=we}return e.prototype.setOptions=function(e){return void 0===e&&(e={}),e=e||{},this.options=n({},we,e),this},e.prototype.decode=function(e,t,r){var o=this.options,n=o.canOverwriteImage,i=o.greyScaleWeights,s=o.inversionAttempts,a="attemptBoth"===s||"invertFirst"===s,c="onlyInvert"===s||"invertFirst"===s,l=function(e,t,r,o,n,i){var s=t*r;if(e.length!==4*s)throw"malformed data passed to binarizer";var a,c=0;i&&(a=new Uint8ClampedArray(e.buffer,c,s),c+=s);for(var l=new fe(t,r,a),d=0;d<r;d++)for(var u=0;u<t;u++){var h=4*(d*t+u),f=e[h],B=e[h+1],w=e[h+2],C=n.red*f+n.green*B+n.blue*w;l.set(u,d,n.useIntegerApproximation?C+128>>8:C)}var k,m=Math.ceil(t/8),g=Math.ceil(r/8),v=m*g;i&&(k=new Uint8ClampedArray(e.buffer,c,v),c+=v);for(var p,P=new fe(m,g,k),E=0;E<g;E++)for(var y=0;y<m;y++){var b=0,M=1/0,_=0;for(d=0;d<8;d++)for(u=0;u<8;u++){var A=l.get(8*y+u,8*E+d);b+=A,M=Math.min(M,A),_=Math.max(_,A)}var L=b/Math.pow(8,2);if(_-M<=24&&(L=M/2,E>0&&y>0)){var D=(P.get(y,E-1)+2*P.get(y-1,E)+P.get(y-1,E-1))/4;M<D&&(L=D)}P.set(y,E,L)}if(i){var I=new Uint8ClampedArray(e.buffer,c,s);c+=s,p=new K(I,t)}else p=K.createEmpty(t,r);var S=null;if(o)if(i){var T=new Uint8ClampedArray(e.buffer,c,s);S=new K(T,t)}else S=K.createEmpty(t,r);for(E=0;E<g;E++)for(y=0;y<m;y++){for(var N=he(y,2,m-3),x=he(E,2,g-3),q=(b=0,-2);q<=2;q++)for(var R=-2;R<=2;R++)b+=P.get(N+q,x+R);var O=b/25;for(q=0;q<8;q++)for(R=0;R<8;R++){u=8*y+q,d=8*E+R;var F=l.get(u,d);p.set(u,d,F<=O),o&&S.set(u,d,!(F<=O))}}return o?{binarized:p,inverted:S}:{binarized:p}}(e,t,r,a,i,n),d=l.binarized,u=l.inverted,h=Be(c?u:d);return!h&&a&&(h=Be(c?d:u)),h},e.prototype.scan=function(e){var t=this;return new Promise((function(r,o){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){Ce(n);var e=n.width,i=n.height,s=document.createElement("canvas"),a=s.getContext("2d");s.width=e,s.height=i,a.drawImage(n,0,0);var c=a.getImageData(0,0,e,i).data,l=t.decode(c,e,i);return l?r(l):o("failed to decode image")},n.onerror=function(){Ce(n),o("failed to load image: "+e)},n.src=e}))},e}(),me=function(t){function r(r){var o=t.call(this,e.Mode.Kanji,r)||this;return o.bytes=function(e){for(var t=[],r=e.length,o=j().UTF8_TO_SJIS,n=0;n<r;n++){var i=e.charCodeAt(n),s=o[i];if(null==s)throw"illegal char: "+String.fromCharCode(i);t.push(s>>8),t.push(255&s)}return t}(r),o}return o(r,t),r.prototype.write=function(e){for(var t=0,r=this.bytes,o=r.length;t+1<o;){var n=(255&r[t])<<8|255&r[t+1];33088<=n&&n<=40956?n-=33088:57408<=n&&n<=60351&&(n-=49472),n=192*(n>>8&255)+(255&n),e.put(n,13),t+=2}},r.prototype.getLength=function(){return Math.floor(this.bytes.length/2)},r}(i);function ge(e){for(var t=[],r=e.length,o=0;o<r;o++)t.push(e.charCodeAt(o));return t}function ve(e){if(48<=e&&e<=57)return e-48;throw"illegal char: "+String.fromCharCode(e)}function pe(e){for(var t=0,r=e.length,o=0;o<r;o++)t=10*t+ve(e[o]);return t}var Pe=function(t){function r(r){var o=t.call(this,e.Mode.Numeric,r)||this;return o.bytes=ge(r),o}return o(r,t),r.prototype.write=function(e){for(var t=0,r=this.bytes,o=r.length;t+2<o;)e.put(pe([r[t],r[t+1],r[t+2]]),10),t+=3;t<o&&(o-t==1?e.put(pe([r[t]]),4):o-t==2&&e.put(pe([r[t],r[t+1]]),7))},r.prototype.getLength=function(){return this.bytes.length},r}(i);function Ee(e){if(48<=e&&e<=57)return e-48;if(65<=e&&e<=90)return e-65+10;switch(e){case 32:return 36;case 36:return 37;case 37:return 38;case 42:return 39;case 43:return 40;case 45:return 41;case 46:return 42;case 47:return 43;case 58:return 44;default:throw"illegal char: "+String.fromCharCode(e)}}var ye=function(t){function r(r){var o=t.call(this,e.Mode.Alphanumeric,r)||this;return o.bytes=ge(r),o}return o(r,t),r.prototype.write=function(e){for(var t=0,r=this.bytes,o=r.length;t+1<o;)e.put(45*Ee(r[t])+Ee(r[t+1]),11),t+=2;t<o&&e.put(Ee(r[t]),6)},r.prototype.getLength=function(){return this.bytes.length},r}(i);e.Decoder=ke,e.Encoder=N,e.QRAlphanumeric=ye,e.QRByte=s,e.QRKanji=me,e.QRNumeric=Pe}));